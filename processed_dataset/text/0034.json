{
    "source_file": "./raw_volume-zh/volume11/chapter1.tex",
    "text": "六、容斥原理容斥原理 设 $A_1, A_2, \\cdots, A_n$ 为有限集合, 用 $\\left|A_i\\right|$ 表示集合 $A_i$ 中的元素个数,那么\n$$\n\\begin{aligned}\n& \\left|A_1 \\cup A_2 \\cup \\cdots \\cup A_n\\right|=\\sum_{i=1}^n\\left|A_i\\right|-\\sum_{1 \\leqslant i<j \\leqslant n}\\left|A_i \\cap A_j\\right|+ \\\\\n& \\quad \\sum_{1 \\leqslant i<j<k \\leqslant n}\\left|A_i \\cap A_j \\cap A_k\\right|-\\cdots+(-1)^{n-1}\\left|A_1 \\cap A_2 \\cap \\cdots \\cap A_n\\right| . \\label{eq1}\n\\end{aligned}\n$$\n证明若 $a \\in A_1 \\cup A_2 \\cup \\cdots \\cup A_n$, 则 $a$ 至少属于 $A_1, A_2, \\cdots, A_n$ 中一个集合.\n不妨设 $a$ 属于 $A_1, A_2, \\cdots, A_k(1 \\leqslant k \\leqslant n)$ 而不属于其他集合.\n于是 $a$ 在 \\ref{eq1} 式左端计算了一次.\n而 $a$ 在右端的第一个和中计算了 $\\mathrm{C}_k^1$ 次, 在第 2 个和中计算了 $\\mathrm{C}_k^2$ 次, $\\cdots$,可见, $a$ 在右端算式中, 它被计算的总次数为\n$$\n\\begin{aligned}\n& \\mathrm{C}_k^1-\\mathrm{C}_k^2+\\mathrm{C}_k^3-\\cdots+(-1)^{k-1} \\mathrm{C}_k^k \\\\\n= & \\mathrm{C}_k^0-\\left(\\mathrm{C}_k^0-\\mathrm{C}_k^1+\\cdots+(-1)^k \\mathrm{C}_k^k\\right) \\\\\n= & 1-(1-1)^k \\\\\n= & 1 .\n\\end{aligned}\n$$\n若 $a \\notin A_1 \\cup A_2 \\cup \\cdots \\cup A_n$, 则显然 $a$ 在 \\ref{eq1} 式两端计算的次数都为 0 . 这表明  \\ref{eq1} 式右端的确表示至少属于 $A_1, A_2, \\cdots, A_n$ 中一个集合的元素的总数 $\\mid A_1 \\cup A_2 \\cup \\cdots \\cup A_n \\mid$, 从而(1)式成立.\n上述证明 \\ref{eq1} 式成立的方法叫做贡献法.\n逐步淘汰原理(篮法公式),设 $S$ 是有限集合, $A_i \\subset S(i=1,2, \\cdots, n)$, $A_i$ 在 $S$ 中的补集为 $\\complement_S A_i(i=1,2, \\cdots, n)$ 则\n$$\n\\left|\\complement_S A_1 \\cap \\complement_S A_2 \\cap \\cdots \\cap \\complement_S A_n\\right|=|S|-\\sum_{i=1}^n\\left|A_i\\right|+\\sum_{1 \\leqslant i<j \\leqslant n}\\left|A_i \\cap A_j\\right|-\\sum_{1 \\leqslant i<j<k \\leqslant n}\\left|A_i \\cap A_j \\cap A_k\\right|+\\cdots+(-1)^n\\left|A_1 \\cap A_2 \\cap \\cdots \\cap A_n\\right| . \\label{eq2}\n$$\n证明因为 $\\left|A_1 \\cup A_2 \\cup \\cdots \\cup A_n\\right|=|S|-\\left|\\complement_S\\left(A_1 \\cup A_2 \\cup \\cdots \\cup A_n\\right)\\right|$, 而由集合论中德・摩根律, 我们有\n$$\n\\complement_S\\left(A_1 \\cup A_2 \\cup \\cdots \\cup A_n\\right)=\\complement_S A_1 \\cap \\complement_S A_2 \\cap \\cdots \\cap \\complement_S A_n .\n$$\n由上述两式及 \\ref{eq1} 式即得 \\ref{eq2} 式.\n公式 \\ref{eq1} 和 \\ref{eq2} 都源于同一思想,即不断地使用包含与排除, 逐步篮去重复的计数.\n因此, 这两个公式又统称为包含与排除原理, 今后我们统称为容斥原理.",
    "figures": []
}