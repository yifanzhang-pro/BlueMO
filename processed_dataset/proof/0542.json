{
    "source_file": "./raw_volume-zh/volume13/chapter13.tex",
    "problem_type": "proof",
    "problem": "例2. 在 $n \\times n$ 棋盘上放有 $r$ 只棋, 每个格最多一只棋.\n若 $r$ 只棋具有如下的性质 $p$ : 每行每列至少有一只棋.\n但去掉其中任何一只棋, 则它们便不再具有上述的性质 $p$. 求 $r$ 的最大值 $r_n$.",
    "solution": "分析:解先考虑简单情形.\n为了叙述问题的方便, 对于具有性质 $p$ 的棋盘, 如果去掉其中一只棋以后, 棋盘仍然具有性质 $p$, 则称那只棋为可去棋.\n当 $n=2$ 时, $r_2<3$, 否则, 棋盘上放 3 只棋, 必有一个角上的棋为可去棋.\n矛盾.\n当 $n=3$ 时, $r_3<5$. 否则, 棋盘上放 5 只棋, 必有一行有两只棋.\n不妨设第一行的前两格都有一只棋 $a_{11} 、 a_{12}$. 此时, 第一和第二列都不能再有棋.\n比如第一列还有一只棋 $A$, 则棋 $a_{11}$ 可去.\n若第二列有一只棋 $B$, 则棋 $a_{12}$ 可去.\n这样剩下的 3 只都在第三列,此时,位于第一行第三列的棋 $a_{13}$ 是可去棋.\n一般地,对自然数 $n$, 我们猜想有 $r_n<2 n-1$.\n实际上, 由上面的证明过程可知, 若某个行有两只棋 $a 、 b$, 则棋 $a 、 b$ 所在的列无其他的棋.\n比如, 若 $a$ 所在的列还有一只棋, 则 $a$ 是可去棋, 矛盾.\n利用此性质,可适当去掉一行一列,将 $n$ 的问题化归为 $n-1$ 的问题.\n下面证明 $r_n<2 n-1$. 即证明如下的结论:\n若棋盘中至少放有 $2 n-1$ 只棋, 则棋盘上必有可去棋. (*)\n证法 1: 对 $n$ 用归纳法.\n设结论 (*) 对小于 $n$ 的自然数成立.\n考察 $n \\times n$ 棋盘, 为了利用归纳假设,应去掉一行和一列, 且使剩下的棋盘中至少 $2 n-3$ 只棋.\n这就要求去掉的行和列中一共只包含有 2 只棋.\n因此, 我们要找到恰有一只棋的行和列.\n但棋盘中的棋子数不少于 $2 n-1$, 并不意味着棋盘中的棋子数为 $2 n-1$. 因此, 不能由抽庶原理找到恰有一只棋的行和列.\n注意到前面所证的结论: 若某个行有两只棋, 则这两只棋所在的列没有棋.\n由此便可找到合乎要求的列.\n由于棋盘中至少有 $2 n-1$ 只棋, 由抽屉原理, 至少有一行有两只棋.\n不妨设第一行的前两格各有一只棋 $a 、 b$ (如图(<FilePath:./images/volume13/figures/fig-c13i1.png>) ). 此时,第一、第二列不能再有棋.\n比如第一列还有一只棋则棋 $a$ 可去.\n第二列有一只棋, 则棋 $b$ 可去.\n这样剩下的 $2 n-3$ 只都在后 $n-2$ 列, 由抽庶原理,必有某个列有两只棋.\n不妨设第 3 列的第 $i$ 格和第 $j$ 格各有一只棋 $c 、 d$, 其中 $i 、 j$ 中至少有一个不为 1 . 不妨设 $i \\neq 1$, 则 $c$ 所在的行不能再有棋, 否则棋 $c$ 可去.\n这样, $a$ 所在的列只有一只棋, $c$ 所在的行只有一只棋.\n去掉这行和这列,对剩下的棋盘使用归纳假设,命题 (*) 获证.\n最后, 如图(<FilePath:./images/volume13/figures/fig-c13i2.png>) 可知, $r=2 n-2$ 是可能的.\n故 $r_n=2 n-2$.\n证法 2: 为了找到可去棋, 先考虑棋在什么条件下可去.\n如果 $A$ 是可去棋,则 $A$ 所在的行至少 2 只棋, $A$ 所在的列也至少 2 只棋.\n于是, 可取定至少有 2 只棋的行, 再从中找有 2 只棋的列.\n设第 $i$ 行的棋子数为 $a_i(i=1,2, \\cdots, n)$, 不妨设 $a_1 \\leqslant a_2 \\leqslant \\cdots \\leqslant a_n$, 则 $a_1+a_2+\\cdots+a_n=2 n-1$. 因为每行至少一只棋, 所以 $a_1=1$.\n假定 $a_1=a_2=\\cdots=a_i=1(1 \\leqslant i \\leqslant n-1), 2 \\leqslant a_{i+1} \\leqslant a_{i+2} \\leqslant \\cdots \\leqslant a_n$, 则\n$$\n\\begin{aligned}\na_{i+1}+a_{i+2}+\\cdots+a_n & =2 n-1-\\left(a_1+a_2+\\cdots+a_i\\right) \\\\\n& =2 n-1-i \\\\\n& =n+(n-1-i) \\geqslant n .\n\\end{aligned}\n$$\n前 $i$ 行的 $i$ 只棋最多占住 $i$ 个列(如图(<FilePath:./images/volume13/figures/fig-c13i3.png>) 的阴影方格所示), 不妨设这 $i$ 只棋都在前 $k(k \\leqslant i)$ 列中.\n如果后 $n-i$ 行中有一只棋 $A$ 在前 $k$ 列中,由于 $A$ 所在的行至少有 2 只棋, 所以 $A$ 可去.\n如果后 $n-i$ 行的棋都在后 $n-k$ 列中, 但 $n-k<n$, 而 $a_{i+1}+a_{i+2}+\\cdots+ a_n \\geqslant n$, 所以必有一列有 2 只棋 $B 、 C$, 但 $B$ 所在的行也有 2 只棋, 所以 $B$ 可去.",
    "remark": "",
    "figures": [
        "./images/volume13/figures/fig-c13i1.png",
        "./images/volume13/figures/fig-c13i2.png",
        "./images/volume13/figures/fig-c13i3.png"
    ]
}