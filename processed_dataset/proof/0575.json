{
    "source_file": "./raw_volume-zh/volume13/chapter9.tex",
    "problem_type": "proof",
    "problem": "例6. 设 $n$ 是给定的正整数, $6 \\mid n$. 在 $n \\times n$ 方格棋盘中, 每个方格都填上一个正整数,第 $i$ 行的方格填人的数从左至右依次为 $(i-1) n+1,(i-1) n+ 2, \\cdots,(i-1) n+n$. 今任取 2 个相邻 (具有公共边) 的方格, 将其中一个数加 1 , 另一个数加 2 , 称之为一次操作.\n问: 至少要经过多少次操作, 才能使棋盘中的数变得都相等?",
    "solution": "解:棋盘中各数的和记为 $S$.\n显然, 当棋盘中的数都相等时, 每个数至少是 $n^2$, 于是棋盘中各数的和 $S^{\\prime} \\geqslant n^2 \\cdot n^2=n^4$, 又每次操作使 $S$ 增加 3, 而最初棋盘中 $S_0=1+2+3+\\cdots +n^2=\\frac{n^2\\left(n^2+1\\right)}{2}$, 于是操作到各数相等时 $S$ 至少增加 $n^4-\\frac{n^2\\left(n^2+1\\right)}{2}= \\frac{n^2\\left(n^2-1\\right)}{2}$, 所以操作次数不少于 $\\frac{1}{3} \\cdot \\frac{n^2\\left(n^2-1\\right)}{2}=\\frac{n^2\\left(n^2-1\\right)}{6}$.\n下面证明: 可适当操作 $\\frac{n^2\\left(n^2-1\\right)}{6}$ 次,使棋盘中的数变得都相等.\n这等价于证明: 可适当操作若干次,使棋盘中的数都变成 $n^2$.\n将棋盘每一行从左至右每 3 个连续格一组, 分成 $\\frac{n}{3}$ 组, 依次记为第一组, 第二组, $\\cdots$, 第 $\\frac{n}{3}$ 组.\n首先注意到任何连续 3 个格, 都可适当操作 2 次, 使每个数都增加 2 , 我们称这两个操作合成一个大操作 $A:(a, b, c) \\rightarrow(a+2, b+1, c) \\rightarrow(a+2$, $b+2, c+2)$. 现在, 将某行的每一组都进行 $\\frac{n}{2}$ 次大操作 $A$, 则该行的数都增加\n$n$,于是, 对每一行, 都可进行若干次操作, 使其变得与第 $n$ 行完全相同.\n再注意到连续 2 个格, 可适当操作两次, 使其中的数都增加 3 , 我们称这两个操作合成一个大操作 $B:(a, b) \\rightarrow(a+2, b+1) \\rightarrow(a+3, b+3)$. 现在, 假定棋盘的每一行都已与第 $n$ 行完全相同.\n再考察第 $i 、 i+1$ 这 2 行的第 $j$ 组, 对该组同一列的 2 个格都进行一次大操作 $B$, 则这 2 行第 $j$ 组中的数都增加 3 , 而同一行中不同组对应的数相差 3 的倍数,于是, 我们可对这 2 行每一组都进行类似的操作若干次, 使这 2 行的所有组都变得与第 $\\frac{n}{3}$ 组完全相同, 为 $\\left(n^2-\\right. \\left.2, n^2-1, n^2\\right)$, 它经过一次操作可变为 $\\left(n^2, n^2, n^2\\right)$, 于是这 2 行都可变成 $n^2$.\n每连续 2 行都进行这样的操作, 则所有行都变成 $n^2$.\n综上所述, 操作的最小次数为 $\\frac{n^2\\left(n^2-1\\right)}{6}$.",
    "remark": "",
    "figures": []
}