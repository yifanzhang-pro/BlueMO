{
    "source_file": "./raw_volume-zh/volume13/chapter3.tex",
    "problem_type": "proof",
    "problem": "例2. 空间有 1989 个点, 无 3 点共线, 将其分成点数互异的 30 组.\n在任何 3 个不同的组中各取一点, 以这 3 个点为顶点作三角形.\n问: 要使这种三角形的总数最大,各组的点数应为多少?",
    "solution": "分析:觉告诉我们, 各组点数相等时, 三角形总数最大.\n但仔细阅读题目又发现, 分组要求各组点数互异, 于是想到各组点数应当充分接近.\n为了强化这一感觉, 可用特例加以印证.\n先看 10 点分为 3 组的情形.\n当各组点数分别为 $1 、 2 、 7$ 时, 三角形总数 $S=14$, 简记为 $S(1,2,7)=14$. 类似地, $S(1,3,6)=18, S(1,4,5)=20$, $S(2,3,5)=30$. 其中以 $S(2,3,5)=30$ 最大.\n对一般情形, 由上述特例可大胆猜想: 各组点数 $n_i$ 彼此接近时 $S$ 最大.\n所谓各 $n_i$ 彼此接近, 是指任意相邻两个 $n_t 、 n_{t+1}$ 相差尽可能小.\n显然, $n_t 、 n_{t+1}$ 至少相差 1 , 但能否对所有 $n_t 、 n_{t+1}$, 都有 $n_{t+1}-n_t=1$ ? 对此进行研究, 即可找到解题的途径.\n解设各组的点数分别为: $n_1<n_2<\\cdots<n_{30}$, 则三角形的总数为:\n$$\nS=\\sum_{1 \\leqslant i<j<k \\leqslant 30} n_i n_j n_k \\text {, 其中 } n_1+n_2+\\cdots+n_{30}=1989 .\n$$\n由于分组的方法是有限的, 从而 $S$ 存在最大值.\n若 $n_1, n_2, \\cdots, n_{30}$ 使 $S$达到最大值, 不妨设 $n_1<n_2<\\cdots<n_{30}$, 则 $n_1, n_2, \\cdots, n_{30}$ 具有以下一些性质:\n(1)对任何 $t=1,2, \\cdots, 29$, 都有 $n_{t+1}-n_t \\leqslant 2$.\n实际上, 假定存在 $1 \\leqslant t \\leqslant 29$, 使 $n_{t+1}-n_t \\geqslant 3$ (也可以不妨设 $n_2-n_1 \\geqslant 3$ ).令 $n_t^{\\prime}=n_t+1, n_{t+1}^{\\prime}=n_{t+1}-1$, 则各组点数仍互异.\n考察:\n$$\n\\begin{aligned}\nS & =\\sum_{1 \\leqslant i<j<k \\leqslant 30} n_i n_j n_k \\\\\n& =n_t n_{t+1} \\cdot \\sum_{\\substack{k \\neq t, t+1 \\\\\n1 \\leqslant k \\leqslant 30}} n_k+\\left(n_t+n_{t+1}\\right) \\cdot \\sum_{\\substack{j, k \\neq t, t+1 \\\\\n1 \\leqslant j<k \\leqslant 30}} n_j n_k+\\sum_{\\substack{i, j, k \\neq t, t+1 \\\\\n1 \\leqslant i<j<k \\leqslant 30}} n_i n_j n_k, \\\\\nS^{\\prime} & =n_t^{\\prime} n_{t+1}^{\\prime} \\cdot \\sum_{\\substack{k \\neq t, t+1 \\\\\n1 \\leqslant k \\leqslant 30}} n_k+\\left(n_t^{\\prime}+n_{t+1}^{\\prime}\\right) \\cdot \\sum_{\\substack{j, k \\neq t, t+1 \\\\\n1 \\leqslant j<k \\leqslant 30}} n_j n_k+\\sum_{\\substack{i, j, k \\neq t, t+1 \\\\\n1 \\leqslant i<j<k \\leqslant 30}} n_i n_j n_k,\n\\end{aligned}\n$$\n因为 $n_t^{\\prime}+n_{t+1}^{\\prime}=n_t+n_{t+1}$, 而 $n_t^{\\prime} n_{t+1}^{\\prime}=n_t n_{t+1}-n_t+n_{t+1}-1>n_t n_{t+1}$, 所以\n$S^{\\prime}>S$, 矛盾.\n所以 $n_{t+1}-n_t=1$ 或 2 .\n(2) 至少有一个 $t(1 \\leqslant t \\leqslant 29)$, 使 $n_{t+1}-n_t=2$.\n实际上, 若对所有 $t$, 都有 $n_{t+1}-n_t \\neq 2$, 而由 (1), 有 $n_{t+1}-n_t \\leqslant 2$, 所以 $n_{t+1}-n_t=1$, 即 $n_1, n_2, \\cdots, n_{30}$ 是 30 个连续正整数, 它们的和为 15 的倍数.\n但 $\\sum_{t=1}^{30} n_t=1989$ 不是 15 的倍数,矛盾.\n(3) 最多有一个 $t(1 \\leqslant t \\leqslant 29)$, 使 $n_{t+1}-n_t=2$.\n实际上, 若有 $s 、 t(1 \\leqslant s<t \\leqslant 29)$, 使 $n_{t+1}-n_t=n_{s+1}-n_s=2$, 则令 $n_s^{\\prime}= n_s+1, n_{t+1}^{\\prime}=n_{t+1}-1$. (最大的减小, 最小的增大), 代换后各组的点数仍互异.\n考察:\n$$\n\\begin{aligned}\nS & =\\sum_{1 \\leqslant i<j<k \\leqslant 30} n_i n_j n_k \\\\\n& =n_s n_{t+1} \\cdot \\sum_{\\substack{k \\neq s, t+1 . \\\\\n1 \\leqslant k \\leqslant 30}} n_k+\\left(n_s+n_{t+1}\\right) \\cdot \\sum_{\\substack{j, k \\neq s, t+1 \\\\\n1 \\leqslant j<k \\leqslant 30}} n_j n_k+\\sum_{\\substack{i, j, k \\neq t, t+1 \\\\\n1 \\leqslant i<j<k \\leqslant 30}} n_i n_j n_k, \\\\\nS^{\\prime} & =n_s^{\\prime} n_{t+1}^{\\prime} \\cdot \\sum_{\\substack{k \\neq t, t+1 \\\\\n1 \\leqslant k \\leqslant 30}} n_k+\\left(n_s^{\\prime}+n_{t+1}^{\\prime}\\right) \\cdot \\sum_{\\substack{j, k \\neq t, t+1 \\\\\n1 \\leqslant j<k \\leqslant 30}} n_j n_k+\\sum_{\\substack{i, j, k \\neq t, t+1 \\\\\n1 \\leqslant i<j<k \\leqslant 30}} n_i n_j n_k,\n\\end{aligned}\n$$\n因为 $n_s^{\\prime}+n_{t+1}^{\\prime}=n_s+n_{t+1}$, 而 $n_s^{\\prime} n_{t+1}^{\\prime}=n_s n_{t+1}-n_s+n_{t+1}-1>n_s n_{t+1}$, 所以 $S^{\\prime}>S$, 矛盾.\n由 (2) 和 (3) 可知, 恰有一个 $t(1 \\leqslant t \\leqslant 29)$, 使 $n_{t+1}-n_t=2$.\n最后证明, 同时满足 (1) (2) 和 (3) 的数组: $n_1, \\cdots, n_{30}$ 是唯一的.\n实际上, 不妨设 30 个数为: $n_1, n_1+1, n_1+2, \\cdots, n_1+t-1, n_1+t+1$, $n_1+t+2, \\cdots, n_1+30$, 那么 $n_1+\\left(n_1+1\\right)+\\left(n_1+2\\right)+\\cdots+\\left(n_1+t-\\right.$ 1) $+\\left(n_1+t+1\\right)+\\left(n_1+t+2\\right)+\\cdots+\\left(n_1+30\\right)=1989$.\n所以 $\\left(n_1+t\\right)+\\left(n_1+1\\right)+\\left(n_1+2\\right)+\\cdots+\\left(n_1+t-1\\right)+\\left(n_1+t+\\right.$ 1) $+\\left(n_1+t+2\\right)+\\cdots+\\left(n_1+30\\right)=1989+t$, 即 $1989+t=30 n_1+(1+ 2+\\cdots+30)=30 n_1+15 \\times 31$.\n所以 $1974+t=30 n_1+15 \\times 30,30|1974+t, 30| 24+t$, 但 $1 \\leqslant t \\leqslant 29$, 所以 $t=6$.\n综上所述, 所求的各组的点数为 $51,52, \\cdots, 56,58,59, \\cdots, 81$.",
    "remark": "",
    "figures": []
}