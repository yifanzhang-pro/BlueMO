{
    "source_file": "./raw_volume-zh/volume6/chapter2-6.tex",
    "problem_type": "proof",
    "problem": "例4. 函数 $f: \\mathbf{N}^* \\rightarrow \\mathbf{N}^*$ 定义如下 $f(1)=1$, 对 $n \\in \\mathbf{N}^*$, 数 $f(n+1)$ 是满足下述条件的最大正整数 $m$ : 存在一个由正整数组成的等差数列 $a_1, a_2, \\cdots$, $a_m$ (这里项数小于 3 的数列也认为是等差数列), 使得 $a_1<a_2<\\cdots<a_m=n$, 并且 $f\\left(a_1\\right)=f\\left(a_2\\right)=\\cdots=f\\left(a_m\\right)$. 证明 : 对任意正整数 $n$, 都有 $f(4 n+8)= n+2$.",
    "solution": "证明:题目并不要求确定每一个 $n$ 的函数值, 但从 $f$ 的定义来看, 只有每个 $f(n)$ 的值都确定后才能方便地求出下一个值.\n利用 $f$ 的定义作初始值的计算, 可知\n$$\n\\begin{aligned}\n& f(1)=1, f(2)=1, f(3)=2, f(4)=1, f(5)=2, f(6)=2, \\\\\n& f(7)=2, f(8)=3, f(9)=1, f(10)=2, f(11)=2, f(12)=3, \\\\\n& f(13)=2, f(14)=3, f(15)=2, f(16)=4, f(17)=1, f(18)=3, \\\\\n& f(19)=2, f(20)=5, f(21)=1, f(22)=2, f(23)=2, f(24)=6, \\\\\n& f(25)=1, f(26)=4, f(27)=2, f(28)=7, f(29)=1, f(30)=4, \\\\\n& f(31)=2, f(32)=8, f(33)=1, f(34)=5, f(35)=2, f(36)=9, \\\\\n& \\cdots . . .\n\\end{aligned}\n$$\n这些数据的列出不仅说明了当 $1 \\leqslant n \\leqslant 7$ 时, 有 $f(4 n+8)=n+2$, 进一步, 还促使我们猜测当 $n \\geqslant 8$ 时,有\n$$\nf(4 n+1)=1 ; f(4 n+2)=n-3 ; f(4 n+3)=2 ; f(4 n+4)=n+1 . \\label{eq1}\n$$\n下面对 $n$ 归纳来证: $n \\geqslant 8$ 时, 式\\ref{eq1} 都成立.\n当 $n=8$ 时,利用所列出的数据可知 式\\ref{eq1} 成立.\n现设式\\ref{eq1}对 $8,9, \\cdots, n-1$ 都成立, 考察 $n(\\geqslant 9)$ 的情形.\n利用所算得的 $f(1)$ 至 $f(36)$ 值结合归纳假设可知 $f(4 n)=n$ 是 $f(1)$, $f(2), \\cdots, f(4 n)$ 中最大的数, 所以 $f(4 n+1)=1$.\n现在考察 $f(1)$ 至 $f(4 n+1)$ 中等于 1 的项, 可知 $f(17)=f(21)=\\cdots= f(4 n+1)=1$, 结合 $f$ 的定义得 $f(4 n+2) \\geqslant n-3$. 另一方面, 对于以 $4 n+1$ 为末项的等差数列 $a_1<a_2<\\cdots<a_m(=4 n+1)$, 若 $f\\left(a_1\\right)=\\cdots=f\\left(a_m\\right)=$ 1 , 则该数列的公差 $d \\geqslant 4$ (因为若 $d \\leqslant 3$, 则 $f(4 n-2), f(4 n-1), f(4 n)$, $f(4 n+1)$ 中应有至少两个等于 1 , 但由归纳假设, 这 4 个数中只有 $f(4 n+ 1)=1)$, 如果 $d>4$, 那么由归纳假设及所列 $f(1)$ 至 $f(36)$ 的值可知 $d \\geqslant 8$, 此时 $m \\leqslant 1+\\frac{(4 n+1)-1}{8}<n-3$. 因此 $f(4 n+2)=n-3$.\n再考察 $f(1)$ 到 $f(4 n+2)$ 的值, 仅有 $f(4 n-12)=f(4 n+2)=n-3$ (这里用到 $n \\geqslant 9)$, 从而 $f(4 n+3)=2$.\n最后, 与讨论 $f(4 n+2)$ 的值类似, 可知 $f(4 n+4)=n+1$.\n所以, 对任意 $n \\in \\mathbf{N}^*(n \\geqslant 8)$, 式\\ref{eq1} 都成立.\n进而, 对任意 $n \\in \\mathbf{N}^*$, 都有 $f(4 n+8)=n+2$.\n说明要猜出规律性的结果, 每个问题需要试算的初始值个数不尽相同, 仔细与信心都很重要.",
    "remark": "",
    "figures": []
}