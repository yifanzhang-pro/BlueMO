{
    "source_file": "./raw_volume-zh/volume13/exercise13.tex",
    "problem_type": "proof",
    "problem": "问题2. 设 $a_1, a_2, \\cdots, a_k$ 是以不超过 $n$ 的正整数为项的有限数列, 其中任何一个项的两个相邻项都不同, 且不存在任何四个指标 $p<q<r<s$, 使得 $a_p= a_1 \\neq a_q=a_s$. 求 $k$ 的最大值.",
    "solution": "数列 $n, n, n-1, n-1, \\cdots, 2,2,1,1,2,2, \\cdots, n-1, n-1, n, n$ 合乎要求, 因为 $a_i=a_j$, 必有 $i 、 j$ 相邻或关于数列中间两项 1,1 对称.\n所以 $k$ 的最大值不小于 $4 n-2$. 其次, 在任意合乎条件的数列中, 任何连续三项都不能是同一数.\n而且若某一项的所有邻项 (注意首项、末项只有一个邻项) 都与该项不同,则在该项旁添加一个与该项相同的项时, 新数列仍满足条件.\n于是, 只须考虑每连续两项相同的数列.\n进一步, 只须研究任何连续两项都不同的数列的项数 (在每两个相同的项中去掉一个项).下面用归纳法证明: 如果数列 $a_1, a_2, \\cdots, a_k$ 中的任何连续两项都不同, 其中每一个项都是不大于 $n$ 的自然数, 且不存在任何四个指标 $p<q<r<s$, 使得 $a_p=a_1 \\neq a_q=a_s$. 则 $k \\leqslant 2 n-1$. 当 $n=2$ 时, 结论显然成立.\n设结论对小于 $n$ 的自然数成立.\n考察 $n$ 的情形.\n设 $a_1, a_2, \\cdots, a_k$ 是一个最长的合乎条件的数列, $a_i \\in\\{1,2, \\cdots$, $n\\}(i=1,2, \\cdots, k)$. 记 $a_k=t, 1 \\leqslant t \\leqslant n$. 若 $a_1, a_2, \\cdots, a_{k-1}$ 中任何一个项的值都不是 $t$, 则可在 $a_1$ 之前添加一项 $t$, 得到更长的数列, 矛盾.\n于是 $a_1$, $a_2, \\cdots, a_{k-1}$ 中至少有一个项是 $t$. 设 $a_v$ 是 $a_1, a_2, \\cdots, a_{k-1}$ 中下标最大的一个为 $t$ 的项 $(1 \\leqslant v \\leqslant k-2)$, 则 $a_{v+1}, a_{v+2}, \\cdots, a_{k-1}$ 都不是 $t$. 若 $v=1$, 则 $a_2$, $a_3, \\cdots, a_{k-1}$ 中没有等于 $t$ 的项.\n考察数列 $a_2, a_3, \\cdots, a_{k-1}$, 每一项都在 $\\{1$, $2, \\cdots, n\\} \\backslash\\{t\\}$ 中, 且满足题设条件, 由归纳假设知, $k-2 \\leqslant 2(n-1)-1$, 所以 $k \\leqslant 2 n-1$, 结论成立.\n若 $v>1$, 则令 $A=\\left\\{a_1, a_2, \\cdots, a_v\\right\\}, B=\\left\\{a_{v+1}\\right.$, $\\left.a_{v+2}, \\cdots, a_{k-1}\\right\\}$, 则 $A 、 B$ 中分别没有数相同的连续两项, 且 $B$ 的项都在 $\\{1$, $2, \\cdots, n\\} \\backslash\\{t\\}$ 中, $A$ 的项都在 $\\{1,2, \\cdots, n\\} \\backslash\\{B\\}$ 中, 从而都可利用归纳假设.\n设 $A$ 中互异的项的个数为 $p, B$ 中互异的项的个数为 $q$, 则 $p+q \\leqslant n$. 这样分别对 $A 、 B$ 使用归纳假设, 有 $v \\leqslant 2 p-1, k-v-1 \\leqslant 2 q-1$. 所以 $k \\leqslant 2 q+ v \\leqslant 2 q+2 p-1=2(p+q)-1 \\leqslant 2 n-1$. 故 $k$ 的最大值为 $4 n-2$.",
    "remark": "",
    "figures": []
}