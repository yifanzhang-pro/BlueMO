{
    "source_file": "./raw_volume-zh/volume2/chapter1.tex",
    "problem_type": "proof",
    "problem": "例8 设集合 $S_n=\\{1,2, \\cdots, n\\}$. 若 $X$ 是 $S_n$ 的子集, 把 $X$ 中的所有数的和称为 $X$ 的 “容量” (规定空集的容量为 0 ). 若 $X$ 的容量为奇 (偶) 数, 则称 $X$ 为 $S_n$ 的奇 (偶) 子集.\n(1) 求证: $S_n$ 的奇子集与偶子集个数相等;\n(2) 求证: 当 $n \\geqslant 3$ 时, $S_n$ 的所有奇子集的容量之和与所有偶子集的容量之和相等;\n(3) 当 $n \\geqslant 3$ 时,求 $S_n$ 的所有奇子集的容量之和.",
    "solution": "分析:要证明两个集合的元素个数一样多, 一种方法是直接把这两个集合的元素个数算出来, 另一种方法是在这两个集合之间建立一个一一对应.\n本题我们将用后一种方法来解.\n解 (1) 设 $A$ 是 $S_n$ 的任一奇子集,构造映射 $f$ 如下:\n$$\n\\begin{aligned}\n& A \\mapsto A-\\{1\\}, \\text { 若 } 1 \\in A ; \\\\\n& A \\mapsto A \\cup\\{1\\}, \\text { 若 } 1 \\notin A .\n\\end{aligned}\n$$\n（注: $A-\\{1\\}$ 表示从集合 $A$ 中去掉 1 后得到的集合）\n所以,映射 $f$ 是将奇子集映为偶子集的映射.\n易知, 若 $A_1, A_2$ 是 $S_n$ 的两个不同的奇子集, 则 $f\\left(A_2\\right) \\neq f\\left(A_2\\right)$, 即 $f$ 是单射.\n又对 $S_n$ 的每一个偶子集 $B$, 若 $1 \\in B$, 则存在 $A=B \\backslash\\{1\\}$, 使得 $f(A)=B$; 若 $1 \\notin B$, 则存在 $A=B \\bigcup\\{1\\}$, 使得 $f(A)=B$, 从而 $f$ 是满射.\n所以, $f$ 是 $S_n$ 的奇子集所组成的集到 $S_n$ 的偶子集所组成的集之间的一一对应, 从而 $S_n$ 的奇子集与偶子集个数相等, 故均为 $\\frac{1}{2} \\cdot 2^n=2^{n-1}$ 个.\n(2) 设 $a_n\\left(b_n\\right)$ 表示 $S_n$ 中全体奇(偶)子集容量之和.\n若 $n(\\geqslant 3)$ 是奇数,则 $S_n$ 的奇子集有如下两类: (1) $S_{n-1}$ 的奇子集; (2) $S_{n-1}$ 的偶子集与集 $\\{n\\}$ 的并, 于是得\n$$\na_n==a_{n-1}+\\left(b_{n-1}+n \\cdot 2^{n-2}\\right) .\n$$\n又 $S_n$ 的偶子集可由 $S_{n-1}$ 的偶子集和 $S_{n-1}$ 的奇子集与 $\\{n\\}$ 的并构成, 所以\n$$\nb_n=b_{n-1}+\\left(a_{n-1}+n \\cdot 2^{n-2}\\right) .\n$$\n由 (1)、(2), 得 $a_n=b_n$.\n若 $n(\\geqslant 4)$ 是偶数,同上可知\n$$\n\\begin{aligned}\n& a_n=a_{n-1}+\\left(a_{n-1}+n \\cdot 2^{n-2}\\right), \\\\\n& b_n=b_{n-1}+\\left(b_{n-1}+n \\cdot 2^{n-2}\\right) .\n\\end{aligned}\n$$\n由于 $n-1$ 是奇数, 由上面已证 $a_{n-1}=b_{n-1}$, 从而 $a_n=b_n$.\n综上即知, $a_n=b_n, n=3,4, \\cdots$.\n(3) 由于 $S_n$ 的每一个元素均在 $2^{n-1}$ 个 $S_n$ 的子集中出现, 所以, $S_n$ 的所有子集容量之和为\n$$\n2^{n-1}(1+2+\\cdots+n)=2^{n-2} n(n+1) .\n$$\n又由 (2) 知, $a_n=b_n$, 所以\n$$\na_n=\\frac{1}{2} \\cdot 2^{n-2} n(n+1)=2^{n-3} n(n+1) .\n$$\n说明第 (2) 小题的证明中,建立了递推关系.\n这也是解决 “计数”问题的一个有效方法.",
    "remark": "",
    "figures": []
}