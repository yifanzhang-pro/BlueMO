{
    "source_file": "./raw_volume-zh/volume14/chapter12.tex",
    "problem_type": "proof",
    "problem": "例5. 对 $n \\in \\mathbf{N}^*$, 记不大于 $n$ 且与 $n$ 互素的所有正整数乘积为 $\\pi(n)$, 求证:\n$$\n\\pi(n) \\equiv \\pm 1(\\bmod n) .\n$$",
    "solution": "证明:当 $n=1,2$ 时,命题显然成立.\n以下设 $n \\geqslant 3$.\n设不大于 $n$ 且与 $n$ 互素的正整数构成集合 $X_n$.\n引理: 对任意 $t \\in X_n$, 必有唯一的 $t^{\\prime} \\in X_n$, 使 $t^{\\prime} \\cdot t \\equiv 1(\\bmod n)$.\n证明: 由于 $t, n$ 互素, 则存在整数 $p, q$ 使 $p t+q n=1$, 且此时 $p, n$ 互素.\n取 $t^{\\prime} \\in X_n$ 使 $t^{\\prime} \\equiv p(\\bmod n)$, 可见 $t^{\\prime} \\cdot t \\equiv 1(\\bmod n)$. 又假如 $t_1^{\\prime} \\cdot t \\equiv t_2^{\\prime} \\cdot t \\equiv 1(\\bmod n)$, 则 $t_1^{\\prime} \\equiv t_1^{\\prime} \\cdot t \\cdot t_2^{\\prime} \\equiv t_2^{\\prime}(\\bmod n)$. 因此这样的 $t^{\\prime} \\in X_n$ 是唯一的.\n(1) 当 $t \\neq t^{\\prime}$ 时, 将 $t$ 与 $t^{\\prime}$ 归为一组.\n设这样的组共有 $i$ 组, 其中每组两数之积 $t^{\\prime} \\cdot t \\equiv 1(\\bmod n)$.\n(2) 当 $t=t^{\\prime}$ 时, 有 $t^2 \\equiv 1(\\bmod n)$, 则 $(n--t)^2 \\equiv n^2-2 t n+t^2 \\equiv 1(\\bmod n$ ), 故有 $n-t=(n-t)^{\\prime}$. 将 $t$ 与 $n-t$ 归为一组 (其中 $t \\neq n-t$, 这是因为当 $n$ 为奇数时显然 $t \\neq n-t$, 而当 $n$ 为偶数时 $t$ 不能取 $\\frac{n}{2}$ ). 设这样的组共有 $j$ 组, 其中每组两数之积 $t(n-t) \\equiv-t^2 \\equiv-1(\\bmod n)$.\n由 (1)、(2)可知, $X_n$ 中所有元素经过配对后求积得\n$$\n\\pi(n) \\equiv 1^i \\cdot(-1)^j \\equiv \\pm 1(\\bmod n) .\n$$\n综上, 对一切正整数 $n(n=1,2$ 或 $n \\geqslant 3), \\pi(n) \\equiv \\pm 1(\\bmod n)$.",
    "remark": "注:本例采用的实质上是 \"数论倒数\" 及 \"模 $n$ 的相反数\" 的配对方法.\n下面再对本题结果作深人一些的讨论.\n对 $t \\in X_n$, 定义 $t$ 关于 $n$ 的阶是 $r_n(t)=r$, 其中 $r$ 是使 $t^r \\equiv 1(\\bmod n)$ 成立的最小正整数.\n注意到 $r_n(t)=1$ 当且仅当 $t=1, r_n(t)=2$ 当且仅当 $t=t^{\\prime} \\neq$ 1 , 本题的证明揭示了这样的事实: 对 $n \\geqslant 3$, 当 $X_n$ 中 2 阶元个数模 4 余 1 时, $\\pi(n) \\equiv-1(\\bmod n)$; 当 $X_n$ 中 2 阶元个数模 4 余 3 时, $\\pi(n) \\equiv 1(\\bmod n)$. 下面是两个推论:\n推论 1 (Wilson 定理): 若 $p$ 为素数,则 $(p-1) ! \\equiv-1(\\bmod p)$.\n事实上, 对 $p=2$ 可直接验证; 对任何奇素数 $p, p-1$ 是 $X_p$ 中唯一的 2 阶元,因此 $\\pi(p)=(p-1) ! \\equiv-1(\\bmod p)$.\n推论 2 若 $n$ 为偶数,则 $\\pi(2 n) \\equiv 1(\\bmod n)$.\n事实上, 对 $i \\in \\mathbf{Z}, i$ 与 $2 n$ 互素当且仅当 $i$ 与 $n$ 互素, 且 $n+i \\equiv i(\\bmod n)$, 故有\n$$\n\\pi(2 n) \\equiv \\pi^2(n) \\equiv 1(\\bmod n) .\n$$\n一个比推论 2 稍强些的结果是: 若 $4 \\mid n, n \\geqslant 8$, 则 $\\pi(n) \\equiv 1(\\bmod n)$. 这是由于对每个不超过 2 阶的元 $t \\in X_n, 1 \\leqslant t<\\frac{n}{4}$, 四个数 $t, \\frac{n}{2}-t, \\frac{n}{2}+t$, $n-t$ 两两不同, 可归为一大组, 且它们的乘积在模 $n$ 的意义下等于 1 . 这也是配对思想的应用.\n下面两个例题进一步体现了解题中建立对应的技巧.",
    "figures": []
}