{
    "source_file": "./raw_volume-zh/volume1/exercise8.tex",
    "problem_type": "proof",
    "problem": "问题20 试求所有的正整数 $n>1$, 使得 $\\frac{2^n+1}{n^2}$ 是整数.",
    "solution": "显然数 $n$ 为正奇数, 于是我们只需考虑 $n \\geqslant 3$ 且 $n$ 为奇数的情况.\n设 $p$ 是 $n$ 的最小素因数, 则 $p \\geqslant 3, p \\mid 2^n+1$. 令 $i$ 是使 $p \\mid 2^i+1$ 成立的最小正整数, 我们将证明 $1 \\leqslant i<p-1$. 若 $i \\geqslant p-1$, 则可设 $i=(p-1) t+r$, $0 \\leqslant r<p-1, r, t \\in \\mathbf{Z}$. 由费马小定理可知 $p \\mid 2^{p-1}-1$. 于是 $2^r\\left(2^{p-1}\\right)^t \\equiv 2^r (\\bmod p), 2^i+1=\\left(2^{p-1}\\right)^t \\cdot 2^r+1 \\equiv 2^r+1(\\bmod p)$. 故由 $p \\mid 2^i+1$ 即知 $p \\mid 2^r+1$. 这与 $i$ 是使 $p \\mid 2^i+1$ 成立的最小正整数相矛盾.\n令 $n=i a+r_1, 0 \\leqslant r_1<i$, 则 $2^n+1=2^{i a+r_1}+1=\\left(2^i+1-1\\right)^a \\cdot 2^{r_1}+ 1 \\equiv(-1)^a \\cdot 2^{r_1}+1(\\bmod p)$. 由 $p \\mid 2^n+1$ 得 $p \\mid(-1)^a \\cdot 2^{r_1}+1$. 若 $2 \\mid a$, 即 $a$ 是偶数, 则 $p \\mid 2^{r_1}+1$, 由 $r_1<i$, 与 $i$ 的意义相矛盾.\n此时只有 $r_1=0$. 若 $2 \\nmid a$, 则由 $p \\mid-2^{r_1}+1$ 知 $p \\mid 2^{r_1}-1$. 若 $r_1>0$, 可令 $i=r_1+b, 1 \\leqslant b<i$, 于是由 $2^i+1=\\left(2^{r_1}-1\\right) \\cdot 2^b+2^b+1$ 得 $p \\mid 2^b+1$. 这又与 $i$ 的意义相矛盾, 此时也有 $r_1=0$. 于是 $n=i a$, 即 $i \\mid n$, 但 $p$ 是 $n$ 的最小素因数, 且 $1 \\leqslant i<p-1$, 因而 $i=1$. 又由 $p \\mid 2^i+1$ 可得 $p=3$. 于是可以把 $n$ 写成 $n=3^m c, m \\geqslant 1,(c, 3) =1$,$2 \\nmid c$.\n现在证明 $m=1$. 若 $m \\geqslant 2$, 则由 $n^2 \\mid 2^n+1$, 可知 $3^{2 m} \\mid 2^n+1$. 于是由 $2^n+ 1=(3-1)^n+1 \\equiv 3 n-\\sum_{k=2}^{2 m-1}(--1)^k C_n^k 3^k\\left(\\bmod 3^{2 m}\\right) .3^{2 m} \\mid 3 n-\\sum_{k=2}^{2 m-1}(-1)^k C_n^k 3^k$. (i) \n设 $k$ ! 中的 3 的最高次幂为 $\\alpha$, 则 $\\alpha=\\sum_{s=1}^{\\infty}\\left[\\frac{k}{3^s}\\right]<\\sum_{s=1}^{\\infty} \\frac{k}{3^s}=\\frac{\\frac{k}{3}}{1-\\frac{1}{3}}=\\frac{k}{2}$. 若 $3^k \\mathrm{C}_n^k$ 中的 3 的最高次幂为 $\\beta$, 则当 $k \\geqslant 2$ 时, 有 $\\beta>k+m-\\frac{k}{2} \\geqslant m+1$. 若 $\\beta \\geqslant m+2$, 则 $3^{m+2} \\mid 3^k \\mathrm{C}_n^k$. 注意到 $m \\geqslant 2$, 所以有 $2 m \\geqslant m+2$. 于是由 (i) 知, $3^{m+2} \\mid 3 n$. 进而 $3^{m+1} \\mid n$. 这与 $(c, 3)=1$ 矛盾.\n从而证明了 $m=1$, 即 $n=3 c$, $(c, 3)=1$.\n设 $c>1$, 而 $q$ 是 $c$ 的最小素因数, 显然有 $q \\geqslant 5$, 且 $q \\mid 2^n$. 类似地, 令 $j$ 为使 $q \\mid 2^j+1$ 成立的最小正整数, 则必有 $1 \\leqslant j<q-1$. 进而又可证明 $j \\mid n$. 因而由素数 $q$ 的定义及 $j<q-1$ 可知 $j \\in\\{1,3\\}$. 于是由 $q \\mid 2^j+1$ 得 $q=3$, 这与 $q \\geqslant 5$ 矛盾.\n因而 $c=1$. 所以 $n=3$.\n可以验证 $3^2 \\mid 2^3+1$. 于是, 满足要求的正整数 $n$ 只有 $n=3$.",
    "remark": "",
    "figures": []
}