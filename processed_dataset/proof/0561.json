{
    "source_file": "./raw_volume-zh/volume13/chapter7.tex",
    "problem_type": "proof",
    "problem": "例5. 设 $p$ 为给定的正整数, $A$ 是 $X=\\left\\{1,2,3,4, \\cdots, 2^p\\right\\}$ 的子集, 且具有性质: 对任何 $x \\in A$, 有 $2 x \\notin A$. 求 $|A|$ 的最大值.",
    "solution": "分析:解将 $X$ 划块, 对 $p$ 归纳.\n当 $p=1$ 时, $X=\\{1,2\\}$, 取 $A=\\{1\\}$,于是 $f(1)=1$;\n当 $p=2$ 时, $X=\\{1,2,3,4\\}$, 将 $X$ 划分为 3 个子集 $\\{1,2\\} 、\\{3\\} 、\\{4\\}$, 则 $A$ 至多含每个子集中的一个数, 于是 $|A| \\leqslant 3$. 取 $A=\\{1,3,4\\}$, 于是 $f(2)=3$;\n当 $p=3$ 时, $X=\\{1,2, \\cdots, 8\\}$. 将 $X$ 划分为 5 个子集:\\{1,2\\}、\\{3,6\\}、 $\\{4,8\\} 、\\{5\\} 、\\{7\\}$, 则 $A$ 至多含有每个子集中的一个数, 于是 $|A| \\leqslant 5$. 取 $A=\\{1,5,6,7,8\\}$, 则 $f(3)=5$.\n一般地, 当 $X_p=\\left\\{1,2,3, \\cdots, 2^p\\right\\}$ 时, 可进行划块估计.\n注意到 $2^{p-1}+1$, $2^{p-1}+2, \\cdots, 2^p$ 都可属于 $A$, 于是想到划块: $X=\\left\\{1,2,3, \\cdots, 2^{p-1}\\right\\} \\cup\\left\\{2^{p-1}+\\right. \\left.1,2^{p-1}+2, \\cdots, 2^p\\right\\}=X_{p-1} \\cup M$, 其中 $X_{p-1}=\\left\\{1,2,3, \\cdots, 2^{p-1}\\right\\}, M=\\left\\{2^{p-1}+\\right. \\left.1,2^{p-1}+2, \\cdots, 2^p\\right\\}$. 这样, 问题在于 $X_{p-1}=\\left\\{1,2,3, \\cdots, 2^{p-1}\\right\\}$ 中至多有多少个属于 $A$, 这是否为原问题在 $p-1$ 的情形? 问题没有这么简单! 试想: $M$ 中的数 $2^{p-1}+1,2^{p-1}+2, \\cdots, 2^p$ 都属于 $A$ 时, $X_{p-1}$ 中有很多数不能属于 $A$, 比如: $2^{p-2}+1,2^{p-2}+2, \\cdots, 2^{p-1}$ 都不属于 $A$; 但未必 $2^{p-1}+2,2^{p-1}+4, \\cdots, 2^p$ 都属于 $A$. 因此, 还要作更细的划块: $M$ 中的部分数 $2^{p-1}+2,2^{p-1}+4, \\cdots, 2^p$ 与 $X_{p-1}$ 中的有关数 ( 2 倍关系) 搭配构造集合: $\\left\\{2^{p-1}+2,2^{p-2}+1\\right\\},\\left\\{2^{p-1}+4\\right.$, $\\left.2^{p^{-2}}+2\\right\\}, \\cdots,\\left\\{2^p, 2^{p-1}\\right\\}$, 由此得到 $X_p$ 的一个划分:\n$$\nX_{p-2}=\\left\\{1,2,3, \\cdots, 2^{p-2}\\right\\}, M_t=\\left\\{2^{p-1}+2 t, 2^{p-2}+t\\right\\} \\quad(t=1,2, \\cdots,\n$$\n$\\left.2^{p-2}\\right), M_0=\\left\\{2^{p-1}+1,2^{p-1}+3,2^{p-1}+5, \\cdots, 2^{p-1}+2^{p-1}-1\\right\\}$.\n因为 $A$ 至多含 $M_t\\left(t=1,2, \\cdots, 2^{p-2}\\right)$ 中一个元素, 至多含 $X_{p-2}$ 中 $f(p-2)$ 个元素, 至多含 $M_0$. 中 $2^{p-2}$ 个元素, 于是 $f(p) \\leqslant f(p-2)+2^{p-2}+ 2^{p-2}=f(p-2)+2^{p-1}$.\n下面考虑, 能否构造集合 $A$, 证明 $f(p) \\geqslant f(p-2)+2^{p-1}$.\n设 $X=\\left\\{1,2,3, \\cdots, 2^{p-2}\\right\\}$ 的合乎题意的最大子集为 $A_1$, 令 $A_2= \\left\\{2^{p-1}+1,2^{p-1}+2, \\cdots, 2^p\\right\\}$, 则对任何 $x \\in A_1$, 有 $2 x \\leqslant 2 \\cdot 2^{p-2}=2^{p-1}< 2^{p-1}+1 \\notin A_2$, 于是, $A=A_1 \\cup A_2$ 是合乎题意的子集, 故 $f(p) \\geqslant|A|= f(p-2)+2^{p-1}$.\n综上所述, $f(p)=f(p-2)+2^{p-1}$.\n下面用两种方案解此递归关系.\n方案 1: 迭代 ( $p$ 个等式相加), 得 $f(p-1)+f(p)=f(1)+f(2)+ 2^2+2^3+\\cdots+2^{p-1}=1+\\left(2^0+2^1\\right)+2^2+2^3+\\cdots+2^{p-1}=2^p$.\n再迭代 (第 $p-1$ 个等式减第 $p-2$ 个等式, 加第 $p-3$ 个等式等等), 得\n$$\nf(p)+(-1)^p f(1)=2^p-2^{p-1}+\\cdots+(-1)^p \\cdot 2^2,\n$$\n所以\n$$\nf(p)=2^p-2^{p-1}+\\cdots+(-1)^p \\cdot 2^2+(-1)^{p+1},\n$$\n注意到 $(-1)^{p+1} \\cdot 2^1+(-1)^{p+2} \\cdot 2^0=(-1)^{p+1}(2-1)=(-1)^{p+1}$,\n所以 $f(p)=2^p-2^{p-1}+\\cdots+(-1)^p \\cdot 2^2+(-1)^{p+1} \\cdot 2^1+(-1)^{p+2} \\cdot 2^0$\n$$\n=\\frac{2^p\\left[1-\\left(-\\frac{1}{2}\\right)^{p+1}\\right]}{1+\\frac{1}{2}}=\\frac{2^{p+1}+(-1)^p}{3} .\n$$\n方案 2: 分类求解.\n当 $p$. 为奇数时, $f(p)=f(p-2)+2^{p-1}=f(p-4)+2^{p-3}+2^{p-1}= f(1)+2^2+2^4+\\cdots+2^{p-1}=2^0+2^2+2^4+\\cdots+2^{p-1}=\\frac{2^{p+1}-1}{3}$;\n当 $p$ 为偶数时, $f(p)=f(p-2)+2^{p-1}=f(p-4)+2^{p-3}+2^{p-1}= f(2)+2^3+2^5+\\cdots+2^{p-1}=1+2^1+2^3+2^5+\\cdots+2^{p-1}=\\frac{2^{p+1}+1}{3}$.",
    "remark": "",
    "figures": []
}