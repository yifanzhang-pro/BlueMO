{
    "source_file": "./raw_volume-zh/volume10/chapter8.tex",
    "problem_type": "proof",
    "problem": "例5. (1)设 $p$ 是奇素数, $a \\neq \\pm 1, p \\nmid a$. 设 $r$ 是 $a$ 模 $p$ 的阶, $k_0$ 满足 $p^{k_0} \\|\\left(a^r-1\\right)$. 记 $r_k$ 是 $a$ 模 $p^k$ 的阶, 则有\n$$\nr_k=\\left\\{\\begin{array}{l}\nr, \\text { 若 } k=1, \\cdots, k_0, \\\\\nr p^{k-k_0}, \\text { 若 } k>k_0 .\n\\end{array}\\right.\n$$\n(2)设 $a$ 是奇数, $a \\equiv 1(\\bmod 4), a \\neq 1, k_0$ 满足 $2^{k_0} \\|(a-1)$. 记 $l_k$ 是 $a$ 模 $2^k$ 的阶, 则有\n$$\nl_k=\\left\\{\\begin{array}{l}\n1, \\text { 若 } k=1, \\cdots, k_0, \\\\\n2^{k-k_0}, \\text { 若 } k>k_0 .\n\\end{array}\\right.\n$$\n(3)设 $a$ 是奇数, $a \\equiv-1(\\bmod 4), a \\neq-1, k_0$ 满足 $2^{k_0} \\|(a+1)$. 记 $l_k$ 是 $a$ 模 $2^k$ 的阶, 则有\n$$\nl_k=\\left\\{\\begin{array}{l}\n1, \\text { 若 } k=1, \\\\\n2, \\text { 若 } k=2, \\cdots, k_0+1, \\\\\n2^{k-k_0}, \\text { 若 } k>k_0+1 .\n\\end{array}\\right.\n$$",
    "solution": "证明:(1) 当 $1 \\leqslant k \\leqslant k_0$ 时, 由 $a^{r_k} \\equiv 1\\left(\\bmod p^k\\right)$ 推出 $a^r \\equiv 1(\\bmod p)$, 故由 $r$ 的定义知 $r \\mid r_k$. 另一方面, 由 $a^r \\equiv 1\\left(\\bmod p^{k_0}\\right)$ 可得 $a^r \\equiv 1\\left(\\bmod p^k\\right)$, 故由 $r_k$ 的定义推出 $r_k \\mid r$, 从而 $r_k=r\\left(k=1, \\cdots, k_0\\right)$.\n现在设 $k>k_0$. 我们先证明, 对每个 $i=0,1, \\cdots$, 有 $p^{k_0+i} \\|\\left(a^{r p^i}-1\\right)$,\n即有\n$$\na^{r p^i}==1+p^{k_0+i} u_i,\\left(u_i, p\\right)=1 . \\label{eq1}\n$$\n这可用归纳法来证明: 当 $i=0$ 时, 由 $k_0$ 的定义知 式\\ref{eq1} 成立.\n设 式\\ref{eq1} 对 $i \\geqslant 0$ 时已成立, 则由二项式定理易知\n$$\n\\begin{aligned}\na^{r p^{i+1}} & =\\left(1+p^{k_0+i} u_i\\right)^p=1+p^{k_0+i+1} u_i+\\mathrm{C}_p^2 p^{2 k_0+2 i} u_i^2+\\cdots \\\\\n& =1+p^{k_0+i+1}\\left(u_i+\\mathrm{C}_p^2 p^{k_0+i-1} u_i^2+\\cdots\\right) \\\\\n& =1+p^{k_0+i+1} u_{i+1}\n\\end{aligned}\n$$\n易知 $p \\nmid u_{i+1}$ (注意, 我们这里需要 $p \\geqslant 3$ ), 于是 式\\ref{eq1} 对所有 $i \\geqslant 0$ 都成立:\n利用式\\ref{eq1}, 我们对 $k \\geqslant k_0$ 归纳证明 $r_k=r p^{k-k_0}$. 当 $k=k_0$ 时, 前面已证明了结论成立.\n若 $k>k_0$, 设已有 $r_{k-1}=r p^{k-k_0-1}$. 一方面, 在 式\\ref{eq1} 中取 $i=k-k_0$ 可知 $a^{r p^{k-k_0}} \\equiv 1\\left(\\bmod p^k\\right)$,故 $r_k \\mid r p^{k-k_0}$. 另一方面, 由 $a^{r_k} \\equiv 1\\left(\\bmod p^k\\right)$ 可推出 $a^{r_k} \\equiv 1\\left(\\bmod p^{k-1}\\right)$, 故 $r_{k-1} \\mid r_k$, 因此 $r_k=r p^{k-k_0}$ 或 $r p^{k-k_0-1}$. 但在 (1) 中取 $i=k- k_0-1$, 可知 $a^{r p^{k-k_0-1}} \\not \\equiv 1\\left(\\bmod p^k\\right)$, 故必须 $r_k=r p^{k-k_0}$.\n(2)当 $1 \\leqslant k \\leqslant k_0$ 时,结论显然成立.\n当 $k>k_0$ 时,注意 $a \\equiv 1(\\bmod 4)$, $a \\neq 1$ 意味着 $k_0 \\geqslant 2$, 由此极易用归纳法对 $i=0,1, \\cdots$ 证明\n$$\na^{2^i}=1+2^{k_0+i} u_i, 2 \\nmid u_i . \\label{eq2}\n$$\n由式\\ref{eq2}则不难与 (1)中相同的论证推出, $l_k=2^{k-k_0}\\left(k \\geqslant k_0\\right)$.\n(3) 由 $a \\equiv-1(\\bmod 4)$, 易证明 $k=1,2, \\cdots, k_0+1$ 时的结论.\n又用归纳法不难得知, 对 $i=1,2, \\cdots$, 有\n$$\na^{2^i}=1+2^{k_0+i} u_i, 2 \\nmid u_i . \\label{eq3}\n$$\n由此可与 (1) 中论证相同地得到 $l_k=2^{k-k_0}$ (对 $k \\geqslant k_0+1$ ).",
    "remark": "注1 设 $a$ 和 $n>0$ 为给定的互素的整数, 且均不是 \\pm 1 , 并设 $n$ 的标准分解为 $n=2^\\alpha p_1^{\\alpha_1} \\cdots p_k^{\\alpha_2}$ ( $p_i$ 是奇素数, $\\alpha \\geqslant 0$ ). 若已求得 $a$ 模 $p_i$ 的阶, 则由例 5 可确定 $a$ 模 $p_i^\\alpha$ 的阶, 也可求得 $a$ 模 $2^\\alpha$ 的阶.\n进而, 由习题 8 第 2 题的结果, 可求得 $a$ 模 $n$ 的阶.\n因此, 为确定 $a$ 模一个整数 $n$ 的阶, 最终均化归为求 $a$ 模一个奇素数 $p$ 的阶.\n后者一般而言, 是一个极其困难的问题, 但对于较小的 $a$ 和 $p$, 可以通过手算求得结果.\n注2 设 $p$ 是奇素数, $a \\neq \\pm 1, p \\nmid a, r$ 是 $a$ 模 $p$ 的阶, $k_0$ 满足 $p^{k_0} \\|\\left(a^r-1\\right)$ , 则由例 5 中 式\\ref{eq1} 的证明可见, 对任意与 $p$ 互素的正整数 $m$, 有\n$$\na^{m r p^i}=1+p^{k_0+i} u_i^{\\prime},\\left(u_i^{\\prime}, p\\right)=1, i=0,1, \\cdots .\n$$\n由此并注意 $p$ 必与 $r$ 互素, 我们易得:\n(1)设正整数 $n$ 满足 $r \\mid n, p^l \\| n$, 则 $p^l \\| \\frac{a^n-1}{a^r-1}$.\n此外,设 $a$ 为奇数, $a \\neq \\pm 1, k_0$ 满足 $2^{k_0} \\|\\left(a^2-1\\right), m$ 为任意正奇数,则有\n$$\na^{2^i m}=1+2^{k_0+i-1} u_i^{\\prime}, 2 \\nmid u_i^{\\prime}, i=1,2, \\cdots .\n$$\n由此即知:\n(2) 设 $n$ 为正整数, $2^l \\| n$. 若 $l \\geqslant 1$, 则 $2^{l-1} \\| \\frac{a^n-1}{a^2-1}$.\n注3 设 $p$ 是奇素数, $a, b$ 为整数, $p \\nmid a b$. 则必有正整数 $r$, 使得\n$$\na^r \\equiv b^r(\\bmod p) . \\label{eq4}\n$$\n这是因为有 $b_1$ 使 $b b_1 \\equiv 1(\\bmod p)$, 又有正整数 $r$ 满足 $\\left(a b_1\\right)^r \\equiv 1(\\bmod p)$, 由此导出 式\\ref{eq4}. 此外, 易知使 式\\ref{eq4}成立的最小正整数 $r$ 与 $a b_1$ 模 $p$ 的阶相等.\n由此推出, 若正整数 $n$ 满足 $a^n \\equiv b^n(\\bmod p)$, 则 $r \\mid n$\n注2 中的 (1) 与 (2) 有下面的推广, 其证明则完全类似.\n(1) 设 $a \\neq \\pm b, n$ 为正整数, 若 $r \\mid n, p^l \\| n$, 则 $p^l \\| \\frac{a^n-b^n}{a^r-b^r}$.\n(2)设 $a 、 b$ 为奇数, $a \\neq \\pm b, n$ 为正整数, $2^l \\| n$. 若 $l \\geqslant 1$, 则有 $2^{l-1} \\| \\frac{a^n-b^n}{a^2-b^2}$",
    "figures": []
}