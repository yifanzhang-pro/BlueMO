{
    "source_file": "./raw_volume-zh/volume6/exercise1.tex",
    "problem_type": "proof",
    "problem": "问题26. 函数 $f: \\mathbf{N}^* \\rightarrow \\mathbf{N}^*$ 定义如下 $f(1)=1$, 且对任意正整数 $n$, 都有\n$$\nf(n+1)=\\left\\{\\begin{array}{l}\nf(n)+2, \\text { 若 } n=f(f(n)-n+1), \\\\\nf(n)+1, \\text { 其他 } n .\n\\end{array}\\right.\n$$\n(1)证明: 对任意正整数 $n$, 都有 $f(f(n)-n+1) \\in\\{n, n+1\\}$;\n(2)求 $f(n)$ 的表达式.",
    "solution": "由递推式, 可知 $f(n) \\leqslant f(n-1)+2 \\leqslant \\cdots \\leqslant f(1)+2(n-1)= 2 n-1$. 故 $f(n)-n+1 \\leqslant n$. 因此, 如果 $f(1), \\cdots, f(n)$ 的值确定了, 那么 $f(n+1)$ 的值唯一确定.\n从而, 存在唯一的函数 $f$ 满足条件.\n现在, 令 $g(n)=\\left[\\frac{1+\\sqrt{5}}{2} n\\right]$, 记 $\\alpha=\\frac{1+\\sqrt{5}}{2}$, 则 $g(1)=1$, 且对任意 $n \\in \\mathbf{N}^*$, 都有\n$$\ng(n+1)-g(n)=[\\alpha(n+1)]-[\\alpha n]=[\\alpha+\\varepsilon],\n$$\n这里 $\\varepsilon=\\{\\alpha n\\}=\\alpha n-[\\alpha n]$.\n另一方面, $g(g(n)-n+1)=[\\alpha(g(n)-n+1)]=[\\alpha(\\alpha n-\\varepsilon-n+1)]= \\left[\\left(\\alpha^2-\\alpha\\right) n+\\alpha(1-\\varepsilon)\\right]=n+[\\alpha(1-\\varepsilon)]$, 这里用到 $\\alpha^2-\\alpha-1=0$.\n注意到 $\\varepsilon \\neq 2-\\alpha=\\frac{3-\\sqrt{5}}{2}$ (否则 $1=\\frac{[\\alpha n]+\\varepsilon}{\\alpha}=\\frac{[\\alpha n]+2}{\\alpha}-1$, 导致 $\\alpha$ 为有理数,矛盾), 利用上述结论, 若 $0 \\leqslant \\varepsilon<2-\\alpha$, 则 $\\alpha(1-\\varepsilon)>\\alpha(\\alpha-1)=1$,\n从而 $g(g(n)-n+1)=n+1$, 此时 $1<\\alpha+\\varepsilon<\\alpha+2-\\alpha=2$, 即有 $g(n+ 1)-g(n)=1$; 若 $2-\\alpha<\\varepsilon<1$, 则 $\\alpha(1-\\varepsilon)<\\alpha(\\alpha-1)=1$, 从而 $g(g(n)- n+1)=n$, 这时 $2<\\alpha+\\varepsilon<3$, 即 $g(n+1)-g(n)=2$.\n上述讨论表明: $g: \\mathbf{N}^* \\rightarrow \\mathbf{N}^*$ 满足 $f$ 所满足的所有条件, 从而对任意 $n \\in \\mathbf{N}^*$, 有 $f(n)=g(n)$, 这给出了 (2) 要求的答案.\n结合(1)知 (1)成立.\n问题获解.",
    "remark": "",
    "figures": []
}