{
    "source_file": "./raw_volume-zh/volume2/chapter6.tex",
    "problem_type": "proof",
    "problem": "例5 对任意 $k \\in \\mathbf{N}_{+}$, 令 $f(k)$ 表示 $k$ 的各位数字的和的平方, 且对于 $n \\geqslant$ 2 , 令 $f^{(n)}(k)=f\\left(f^{(n-1)}(k)\\right)$, 求 $f^{(2005)}\\left(2^{2002}\\right)$ 的值.",
    "solution": "解:设正整数 $a$ 的位数为 $m$, 则当 $a \\leqslant b$ 时, $m \\leqslant 1+\\lg b$, 因此\n$$\nf(a) \\leqslant 9^2 m^2 \\leqslant 81(1+\\lg b)^2<\\left(4 \\log _2 16 b\\right)^2 .\n$$\n由此得\n$$\n\\begin{gathered}\nf\\left(2^{2002}\\right)<\\left(4 \\log _2\\left(16 \\times 2^{2002}\\right)\\right)^2=2^4 \\times 2006^2<2^4 \\times 2048^2=2^{26}, \\\\\nf^{(2)}\\left(2^{2002}\\right)<\\left(4 \\log _2\\left(16 \\times 2^{26}\\right)\\right)^2=(4 \\times 30)^2=14400 . \\\\\n\\text { 而 } \\quad(9+9+9+9)^2<14400<(1+9+9+9+9)^2,\n\\end{gathered}\n$$\n故 $f^{(2)}\\left(2^{2002}\\right)$ 的各位数字之和 $\\leqslant 4 \\times 9$, 因此\n$$\n\\begin{gathered}\nf^{(3)}\\left(2^{2002}\\right)<36^2=1296, f^{(4)}\\left(2^{2002}\\right)<(9+9+9)^2=729, \\\\\nf^{(5)}\\left(2^{2002}\\right)<(6+9+9)^2=24^2 .\n\\end{gathered}\n$$\n另一方面, 因为 $f(k) \\equiv k^2(\\bmod 9)$, 故\n$$\n\\begin{gathered}\nf\\left(2^{2002}\\right) \\equiv\\left(2^{2002}\\right)^2 \\equiv\\left(2^4\\right)^2 \\times\\left(\\left(2^3\\right)^{666}\\right)^2 \\equiv\\left(2^4\\right)^2 \\equiv 4(\\bmod 9), \\\\\nf^{(2)}\\left(2^{2002}\\right) \\equiv 4^2 \\equiv-2(\\bmod 9), \\\\\nf^{(3)}\\left(2^{2002}\\right) \\equiv(-2)^2 \\equiv 4(\\bmod 9) .\n\\end{gathered}\n$$\n由数学归纳法容易证明\n$$\nf^{(n)}\\left(2^{2002}\\right) \\equiv \\begin{cases}4(\\bmod 9), & \\text { 当 } 2 \\nmid n \\text { 时； } \\\\ -2(\\bmod 9), & \\text { 当 } 2 \\mid n \\text { 时.\n}\\end{cases}\n$$\n因此, 由 $f^{(5)}\\left(2^{2002}\\right)<24^2, f^{(5)}\\left(2^{2002}\\right) \\equiv 4(\\bmod 9)$, 且 $f^{(5)}\\left(2^{2002}\\right)$ 应为完全平方数知, $f^{(5)}\\left(2^{2002}\\right) \\in\\{4,49,121,256,400\\}$, 所以 $f^{(6)}\\left(2^{2002}\\right) \\in\\{16$, $169\\}, f^{(7)}\\left(2^{2002}\\right) \\in\\{49,256\\}, f^{(8)}\\left(2^{2002}\\right)=169, f^{(9)}\\left(2^{2002}\\right)=256$, $f^{(10)}\\left(2^{2002}\\right)=169, \\cdots$, 即当 $n \\geqslant 8$ 时, 有\n$$\nf^{(n)}\\left(2^{2002}\\right)=\\left\\{\\begin{array}{l}\n169, \\text { 当 } n \\text { 为偶数时; } \\\\\n256, \\text { 当 } n \\text { 为奇数时.\n}\n\\end{array}\\right.\n$$\n因此, $f^{(2005)}\\left(2^{2002}\\right)=256$.",
    "remark": "",
    "figures": []
}