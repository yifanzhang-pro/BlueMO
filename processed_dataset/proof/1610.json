{
    "source_file": "./raw_volume-zh/volume6/exercise1.tex",
    "problem_type": "proof",
    "problem": "问题38. 记 $A_n=\\left\\{1+\\frac{\\alpha_1}{\\sqrt{2}}+\\cdots+\\frac{\\alpha_n}{(\\sqrt{2})^n}\\right\\} \\mid \\alpha_i=1$ 或 -1 , 这里 $i=1,2, \\cdots, n$.\n(1) 对每个正整数 $n$, 求集合 $A_n$ 中不同元素的个数;\n(2) 对每个正整数 $n$, 求集合 $A_n$ 中任意两个不同元素之积的和.",
    "solution": "引理对任意 $n \\in \\mathbf{N}^*$, 都有\n$$\n\\begin{aligned}\n& \\left\\{\\frac{\\beta_1}{2}+\\frac{\\beta_2}{2^2}+\\cdots+\\frac{\\beta_n}{2^n} \\mid \\beta_i \\in\\{-1,1\\}, i=1,2, \\cdots, n\\right\\} \\\\\n= & \\left\\{\\frac{j}{2^n} \\mid j \\text { 为奇数, 且 }|j|<2^n\\right\\} .\n\\end{aligned}\n$$\n引理的证明可通过对 $n$ 归纳来处理.\n当 $n=1$ 时,引理显然成立.\n现设引理对所有小于 $n$ 的正整数成立, 考虑 $n$ 的情形.\n对 $\\beta_i \\in\\{-1,1\\}$, 记 $j=2^{n-1} \\beta_1+2^{n-2} \\beta_2+\\cdots+2^0 \\beta_n$, 则 $\\sum_{i=1}^n \\frac{\\beta_i}{2^i}=\\frac{j}{2^n}$, 并且 $j$ 为奇数.\n进一步, 还有\n$$\n\\left|\\frac{j}{2^n}\\right|=\\left|\\sum_{i=1}^n \\frac{\\beta_i}{2^i}\\right| \\leqslant \\sum_{i=1}^n \\frac{\\left|\\beta_i\\right|}{2^i}=\\sum_{i=1}^n \\frac{1}{2^i}=1-\\frac{1}{2^n}<1,\n$$\n故 $|j|<2^n$.\n反过来, 对 $j$ 为奇数, 且 $|j|<2^n$. 注意到 $\\frac{j-1}{2}$ 与 $\\frac{j+1}{2}$ 具有不同的奇偶性, 我们设 $j_0$ 是 $\\frac{j-1}{2}$ 和 $\\frac{j+1}{2}$ 中的那个奇数.\n则 $\\left|j_0\\right| \\leqslant \\frac{1}{2}(1+|j|) \\leqslant 2^{n-1}+\\frac{1}{2}$, 结合 $j_0$ 为奇数, 知 $\\left|j_0\\right|<2^{n-1}$. 从而由归纳假设知, 存在 $\\beta_1, \\beta_2, \\cdots, \\beta_{n-1} \\in\\{-1$, $1\\}$, 使得\n$$\n\\frac{\\beta_1}{2}+\\frac{\\beta_2}{2^2}+\\cdots+\\frac{\\beta_{n-1}}{2^{n-1}}=\\frac{j_0}{2^{n-1}},\n$$\n令 $\\beta_n=j-2 j_0$, 则 $\\beta_n \\in\\{-1,1\\}$, 并且\n$$\n\\sum_{i=1}^n \\frac{\\beta_i}{2^i}=\\frac{j_0}{2^{n-1}}+\\frac{j-2 j_0}{2^n}=\\frac{j}{2^n} .\n$$\n所以,引理获证.\n(1)由引理的结论及 $A_n$ 中元素的结构, 可知 $A_n=\\left\\{1+\\frac{j}{2^{\\left\\lfloor\\frac{n}{2}\\right\\rfloor}}+\\frac{k}{2^{\\left\\lceil\\frac{n}{2}\\right\\rceil}} \\sqrt{2} \\mid j\\right.$, $2^{\\left\\lceil\\frac{n}{2}\\right\\rceil}=2^n$.\n(2) 记 $S=\\sum_{\\substack{a, b \\in A_n \\\\ a<b}} a b$, 那么 $S=\\frac{1}{2}\\left(\\left(\\sum_{a \\in A_n} a\\right)^2-\\sum_{a \\in A_n} a^2\\right)$.\n将 $A_n$ 中的元素 $1+\\frac{j}{2^{\\left\\lfloor\\frac{n}{2}\\right\\rfloor}}+\\frac{k}{2^{\\left\\lceil\\frac{n}{2}\\right\\rceil}} \\sqrt{2}$ 与 $1-\\frac{j}{2^{\\left\\lfloor\\frac{n}{2}\\right\\rfloor}}-\\frac{k}{2^{\\left\\lceil\\frac{n}{2}\\right\\rceil}} \\sqrt{2}$ 配对求和, 并利用(1) 的结论, 可知 $\\sum_{a \\in A_n} a=2^n$.\n进一步, 利用结论: 若 $X 、 Y$ 都是有限集, 且 $\\sum_{x \\in X} x=\\sum_{y \\in Y} y=0$, 则 $\\sum_{x \\in X} \\sum_{y \\in Y}(1+x+y)^2=|X| \\cdot|Y|+|Y| \\cdot \\sum_{x \\in X} x^2+|X| \\cdot \\sum_{y \\in Y} y^2$. 结合 $A_n$ 的结构, 可得\n$$\n\\begin{aligned}\n\\sum_{a \\in A_n} a^2 & =\\sum_{\\substack{j \\text { 奇数 } \\\\\n|j|<2\\left\\lfloor\\frac{n}{2}\\right\\rfloor}} \\sum_{\\substack{k \\text { 为奇数 } \\\\\n|k|<2^{\\left\\lceil\\frac{n}{2}\\right\\rceil}}}\\left(1+\\frac{j}{2^{\\left\\lfloor\\frac{n}{2}\\right\\rfloor}}+\\frac{k}{2^{\\left\\lceil\\frac{n}{2}\\right\\rceil}} \\sqrt{2}\\right)^2 \\\\\n& =2^{\\left\\lceil\\frac{n}{2}\\right\\rceil} \\cdot 2^{\\left\\lfloor\\frac{n}{2}\\right\\rfloor}+\\sum_{\\substack{j \\text { 为奇数 } \\\\\n|j|<2^{\\left\\lfloor\\frac{n}{2}\\right\\rfloor}}} \\frac{j^2 \\cdot 2^{\\left\\lceil\\frac{n}{2}\\right\\rceil}}{2^{2\\left\\lfloor\\frac{n}{2}\\right\\rfloor}}+\\sum_{\\substack{k \\text { 为奇数 } \\\\\n|k|<2^{\\left.\\frac{n}{2}\\right\\rceil}}} \\frac{2 k^2 \\cdot 2^{\\left\\lfloor\\frac{n}{2}\\right\\rfloor}}{2^{2\\left\\lceil\\frac{n}{2}\\right\\rceil}} \\\\\n& =2^n+\\frac{1}{3}\\left(\\frac{2^{\\left\\lceil\\frac{n}{2}\\right\\rceil} \\cdot 2^{\\left\\lfloor\\frac{n}{2}\\right\\rfloor}\\left(2^{2\\left\\lfloor\\frac{n}{2}\\right\\rfloor}-1\\right)}{2^{2\\left\\lfloor\\frac{n}{2}\\right\\rfloor}}+\\frac{2^{\\left\\lfloor\\frac{n}{2}\\right\\rfloor} \\cdot 2^{\\left\\lceil\\frac{n}{2}\\right\\rceil}\\left(2^{2\\left\\lceil\\frac{n}{2}\\right\\rceil}-1\\right)}{2^{2\\left\\lceil\\frac{n}{2}\\right\\rceil 1}}\\right) \\\\\n& =2^n+\\frac{2^n}{3}\\left(3-\\frac{1}{2^{2\\left\\lfloor\\frac{n}{2}\\right\\rfloor}}-\\frac{1}{2^{2\\left\\lceil\\frac{n}{2}\\right\\rceil-1}}\\right) \\\\\n& =2^{n+1}-1 .\n\\end{aligned}\n$$\n综上, (1) 的答案是 $2^n$, 而 (2) 的答案为 $\\frac{1}{2}\\left(2^{2 n}-2^{n+1}+1\\right)$.",
    "remark": "",
    "figures": []
}