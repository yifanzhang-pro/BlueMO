{
    "source_file": "./raw_volume-zh/volume13/exercise13.tex",
    "problem_type": "proof",
    "problem": "问题5. 设 $F=\\left\\{A_1, A_2, \\cdots, A_k\\right\\}$ 是 $X=\\{1,2, \\cdots, n\\}$ 的子集族, 且满足:\n(1) $\\left|A_i\\right|=3$, (2) $\\left|A_i \\cap A_j\\right| \\leqslant 1$. 记 $|F|$ 的最大值为 $f(n)$, 求证: $\\frac{n^2-4 n}{6} \\leqslant f(n) \\leqslant \\frac{n^2-n}{6}$.",
    "solution": "因为 $\\left|A_j \\cap B_j\\right| \\leqslant 1$, 我们来计算二元子集的个数 $S$. 一方面, $\\left|A_i\\right|=3$, 从而每个 $A_i$ 中有 $C_3^2=3$ 个二元集, 于是, $F$ 中的 $k$ 个集合可产生 $3 k$ 个二元集.\n由于 $\\left|A_i \\cap B_j\\right| \\leqslant 1$, 这 $3 k$ 个二元集互异.\n所以, $S \\geqslant 3 k$. 另一方面, 设 $|X|=n$, 则 $X$ 中的二元集的总数为 $S=\\mathrm{C}_n^2$. 所以, $\\mathrm{C}_n^2=S \\geqslant 3 k$, 所以, $k \\leqslant \\frac{n^2-n}{6}$. 不等式右边获证.\n下面, 我们只须构造出一个合乎条件的子集族 $F$, 使 $|F| \\geqslant \\frac{n^2-4 n}{6}$. 为了构造 $F$, 只须构造出若干个 3 -数组 $\\{a, b, c\\}$, 使 $\\left|A_i \\cap A_j\\right| \\leqslant 1$. 考察反面: $\\left|A_i \\cap A_j\\right| \\geqslant 2$, 此时 $A_i 、 A_j$ 中第三个元素要互异,否则 $A_i=A_j$. 现在要设法破坏这一性质, 即当 $A_i 、 A_j$ 中有两个元素对应相等时, 第三个元素必然相等.\n这表明 $a 、 b 、 c$ 中只有两个自由量, 第三个量 $c$ 由前两个量 $a 、 b$ 唯一确定.\n由此想到 $a 、 b 、 c$ 满足一个方程, 最简单的方程是线性方程: $a+b+c=0$. 但 $a 、 b 、 c$ 都是正整数, 此等式不成立, 可将此方程改为同余式: $a+b+c \\equiv 0(\\bmod n)$. 考察所有满足 $a+b+c \\equiv 0(\\bmod n)$ 的三数组 $\\{a, b, c\\}$, 每一个这样的三数组组成一个集合, 则这些集合合乎条件.\n现在证明这些集合的个数不少于 $\\frac{n^2-4 n}{6}$. 注意到满足 $a+b+c \\equiv 0(\\bmod n)$ 的三数组 $\\{a, b, c\\}$ 由其中的两个数比如 $a 、 b$ 唯一确定, 这是因为 $c= \\left\\{\\begin{array}{ll}n-(a+b) & (a+b<n) \\\\ 2 n-(a+b) & (a+b \\geqslant n)\\end{array}\\right.$ (1). 因此, 我们只须考虑 $a 、 b$ 分别有多少种取值.\n首先, $a$ 有 $n$ 种取值方法.\n当 $a$ 取定后, $b$ 的取值应满足如下两个条件: (1) $b \\neq a$; (2) $b$ 的值应使 $c \\neq a$ 和 $b$. 其中 $c$ 由(1)确定.\n显然, (2) 成立的一个充分条件是 $n-(a+b) \\neq a$ 和 $b$, 且 $2 n-(a+b) \\neq a$ 和 $b$. 即 $b \\neq n-2 a$ 和 $\\frac{n-a}{2}$, 且 $b \\neq 2 n-2 a$ 和 $\\frac{2 n-a}{2}$. 但 $n-2 a$ 和 $2 n-2 a$ 不同属于 $X$, 否则 $1 \\leqslant n-2 a \\leqslant n$, $1 \\leqslant 2 n-2 a \\leqslant n$, 有 $2 a+1 \\leqslant n \\leqslant 2 a$, 矛盾.\n于是, 满足 (2) 的 $b$ 最多有 3 个值不能取, 连同 (1), $b$ 最多有 4 个值不能取, 从而至少有 $n-4$ 种取法, 于是, 这样的三数组至少有 $n(n-4)$ 个.\n但每个三数组 $\\{a, b, c\\}$ 有 6 个不同的顺序, 被计数 6 次, 故合乎条件的三数组至少有 $\\frac{n(n-4)}{6}$ 个.\n综上所述, 命题获证.",
    "remark": "",
    "figures": []
}