{
    "source_file": "./raw_volume-zh/volume13/chapter4.tex",
    "problem_type": "proof",
    "problem": "例2. 设 $0 \\leqslant x_i \\leqslant 1(1 \\leqslant i \\leqslant n)$, 求 $F=\\sum_{1 \\leqslant i<j \\leqslant n}\\left|x_i-x_j\\right|$ 的最大值.",
    "solution": "分析:解本题的原解答很繁, 但利用对称性, 可得到非常简单的解法.\n我们先证明下面的引理:\n设 $0 \\leqslant x \\leqslant 1$, 则 $F(x)=\\left|x-x_1\\right|+\\left|x-x_2\\right|+\\cdots+\\left|x-x_n\\right|$ 取最大值 (其中 $0 \\leqslant x_i \\leqslant 1$ ) 时, 必有 $x \\in\\{0,1\\}$.\n实际上, 因为 $F(x)$ 在闭区间 $0 \\leqslant x \\leqslant 1$ 上连续, 所以 $F(x)$ 一定存在最大值.\n不妨设 $x_1 \\leqslant x_2 \\leqslant \\cdots \\leqslant x_n$, 并令 $x_0=0, x_{n+1}=1$.\n(1) 若存在 $i(i=0,1,2, \\cdots, n)$, 使得 $x_i<x<x_{i+1}$, 则令\n$$\n\\left.x^{\\prime}=x_i \\text { (当 } i \\leqslant\\left[\\frac{n}{2}\\right] \\text { 时), 及 } x^{\\prime}=x_{i+1} \\text { (当 } i>\\left[\\frac{n}{2}\\right] \\text { 时 }\\right) \\text {. }\n$$\n我们证明 $F(x)<F\\left(x^{\\prime}\\right)$.\n若 $i \\leqslant\\left[\\frac{n}{2}\\right]$, 记 $d=x-x_i$, 则将 $x$ 调整到 $x^{\\prime}=x_i$ 后, $\\left|x-x_1\\right|, \\mid x- x_2|, \\cdots| x-,x_i \\mid$ 都减少 $d$, , 一共减少 $i$ 个 $d$. 但 $\\left|x-x_{i+1}\\right|,\\left|x-x_{i+2}\\right|, \\cdots$, $\\left|x-x_n\\right|$ 都增加 $d$, 一共增加 $n-i$ 个 $d$. 于是调整后, $F$ 增加了 $(n-2 i)$ 个 $d$, 即 $F^{\\prime}(x)-F(x)=(n-2 i) d$. 因为 $i \\leqslant\\left[\\frac{n}{2}\\right] \\leqslant \\frac{n}{2}$, 所以 $F(x) \\leqslant F\\left(x^{\\prime}\\right)$, 于是 $x$ 不是最大值点,矛盾.\n若 $i>\\left[\\frac{n}{2}\\right]$, 记 $d=x_{i+1}-x$, 则将 $x$ 调整到 $x^{\\prime}=x_{i+1}$ 后, $\\left|x-x_1\\right|$, $\\left|x-x_2\\right|, \\cdots,\\left|x-x_i\\right|$ 都增加 $d$, 一共增加 $i$ 个 $d$. 而 $\\left|x-x_{i+1}\\right|,\\left|x-x_{i+2}\\right|$, $\\cdots,\\left|x-x_n\\right|$ 都减少 $d$, 一共减少 $n-i$ 个 $d$. 于是调整后, $F$ 增加了 $(2 i-n)$ 个 $d$, 即 $F^{\\prime}(x)-F(x)=(2 i-n) d$. 因为 $i>\\left[\\frac{n}{2}\\right]$, 又 $i 、 n$ 都是正整数, 所以当 $n$ 为偶数时, $i>\\frac{n}{2}$, 当 $n$ 为奇数时, $i \\geqslant \\frac{n+1}{2}>\\frac{n}{2}$. 所以恒有 $2 i-n>0, F^{\\prime}(x)>F(x)$, 于是 $x$ 不是最大值点,矛盾.\n(2) 若存在 $i(i=1,2, \\cdots, n)$, 使得 $x=x_i$, 则令\n$$\n\\left.x^{\\prime}=x_{i-1} \\text { (当 } i \\leqslant\\left[\\frac{n}{2}\\right] \\text { 时), 及 } x^{\\prime}=x_{i+1} \\text { (当 } i>\\left[\\frac{n}{2}\\right] \\text { 时 }\\right) \\text {. }\n$$\n我们证明 $F(x)<F\\left(x^{\\prime}\\right)$.\n若 $i \\leqslant\\left[\\frac{n}{2}\\right]$, 记 $d=x-x_{i-1}$, 则将 $x$ 调整到 $x^{\\prime}=x_{i-1}$ 后, $\\left|x-x_1\\right|$, $\\left|x-x_2\\right|, \\cdots,\\left|x-x_{i-1}\\right|$ 都减少 $d$, 一共减少 $i-1$ 个 $d$. 但 $\\left|x-x_i\\right|$, $\\left|x-x_{i+1}\\right|, \\cdots,\\left|x-x_n\\right|$ 都增加 $d$, 一共增加 $n-i+1$ 个 $d$. 于是调整后, $F$ 增加了 $(n-2 i+2)$ 个 $d$, 即 $F^{\\prime}(x)-F(x)=(n-2 i+2) d$, 因为 $i \\leqslant\\left[\\frac{n}{2}\\right] \\leqslant \\frac{n}{2}$, 所以 $F(x)<F\\left(x^{\\prime}\\right), x$ 不是最大值点,矛盾.\n若 $i>\\left[\\frac{n}{2}\\right]$, 记 $d=x_{i+1}-x$, 则将 $x$ 调整到 $x^{\\prime}=x_{i+1}$ 后, $\\left|x-x_1\\right|$, $\\left|x-x_2\\right|, \\cdots,\\left|x-x_i\\right|$ 都增加 $d$,一共增加 $i$ 个 $d$. 而 $\\left|x-x_{i+1}\\right|,\\left|x-x_{i+2}\\right|$, $\\cdots,\\left|x-x_n\\right|$ 都减少 $d$, 一共减少 $n-i$ 个 $d$. 于是调整后, $F$ 增加了 $(2 i-n)$ 个 $d$, 即 $F^{\\prime}(x)-F(x)=(2 i-n) d$. 因为 $i>\\left[\\frac{n}{2}\\right]$, 又 $i 、 n$ 都是正整数,所以当 $n$ 为偶数时, $i>\\frac{n}{2}$, 当 $n$ 为奇数时, $i \\geqslant \\frac{n+1}{2}>\\frac{n}{2}$. 所以恒有 $2 i-n>0$, $F^{\\prime}(x)>F(x)$, 于是 $x$ 不是最大值点,矛盾.\n综上所述, $F$ 取最大值时, 必有 $x \\in\\{0,1\\}$.\n下面解答原题.\n由于 $F$ 在闭域上连续, 所以必定存在最大值.\n固定 $x_2, x_3, \\cdots, x_n$, 则 $F\\left(x_1\\right)$ 是关于 $x_1$ 的函数:\n$$\nF\\left(x_1\\right)=\\left|x_1-x_2\\right|+\\left|x_1-x_3\\right|+\\cdots+\\left|x_1-x_n\\right|+\\sum_{2 \\leqslant i<j \\leqslant n}\\left|x_i-x_j\\right| .\n$$\n于是, $F\\left(x_1\\right)$ 取最大值, 等价于 $\\left|x_1-x_2\\right|+\\left|x_1-x_3\\right|+\\cdots+\\left|x_1-x_n\\right|$ 取最大值.\n又 $0 \\leqslant x_i \\leqslant 1$, 所以由上面的引理, 当 $F\\left(x_1\\right)$ 取最大值时, 必有 $x_1 \\in\\{0$, $1\\}$. 由对称性, 当 $F$ 取最大值时, 必有 $x_i \\in\\{0,1\\}(1 \\leqslant i \\leqslant n)$.\n于是, 可设 $F$ 取最大值时, $x_i$ 中有 $k$ 个为 $0, n-k$ 个为 1 , 那么\n$$\n\\begin{aligned}\nF & \\leqslant(0-0) \\times \\mathrm{C}_k^2+(1-1) \\times \\mathrm{C}_{n-k}^2+\\mathrm{C}_k^1 \\mathrm{C}_{n-k}^1 \\\\\n& =k(n-k) \\leqslant\\left[\\frac{k+(n-k)}{2}\\right]^2=\\frac{n^2}{4} .\n\\end{aligned}\n$$\n又 $F$ 为整数, 所以 $F \\leqslant\\left[\\frac{n^2}{4}\\right]$.\n其中等式在 $x_1=x_2=\\cdots=x\\left[\\frac{n}{2}\\right]=0, x\\left[\\frac{n}{2}\\right]+1=\\cdots=x_n=1$ 时成立.\n所以 $F$ 的最大值为 $\\left[\\frac{n^2}{4}\\right]$.",
    "remark": "",
    "figures": []
}