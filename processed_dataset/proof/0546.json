{
    "source_file": "./raw_volume-zh/volume13/chapter13.tex",
    "problem_type": "proof",
    "problem": "例6. 岛上住着 $n$ 个本地人, 他们中每两个人要么是朋友, 要么是敌人.\n一天, 首领要求每位居民 (包括首领自己) 按以下原则自己做一条石头项链: 每两个朋友间, 他们的项链上至少有一块石头相同; 每两个敌人间, 他们的项链上没有相同的石头 (一条项链上可以无石头). 求证: 要完成首领的命令, 需要 $\\left[\\frac{n^2}{4}\\right]$ 种不同的石头; 而石头种数少于 $\\left[\\frac{n^2}{4}\\right]$ 时,此命令可能无法实现.",
    "solution": "分析:解当 $n=1$ 时,结论显然成立.\n设 $n>1$, 记需要的不同石头种数的最小值为 $S_n$. 当 $n=2$ 时, 设两个人为 $A 、 B$, 如果 $A 、 B$ 是敌人, 则 $S_2=0$. 如果 $A 、 B$ 是朋友, 则 $S_2=1$. 结论成立.\n当 $n=3$ 时, 设三个人为 $A 、 B 、 C$, 如果 $A 、 B 、 C$ 两两是敌人, 则 $S_3=0$. 如果 $A 、 B 、 C$ 两两是朋友, 则 $S_3=1$. 如果 $A 、 B 、 C$ 中有一个二人组是朋友, 另两个二人组是敌人, 则两个为朋友的二人组需要 1 种石头, 此时 $S_3=1$. 如果 $A 、 B 、 C$ 中有一个二人组是敌人, 另两个二人组是朋友, 则两个为朋友的二人组需要 2 种不同的石头.\n否则, 3 人拥有同一种石头,但其中有两个人是敌人,矛盾, 此时 $S_3=2$.\n由前面的一些特例, 我们发现一个有用的规律: 如果 3 个人中有一个二人组是敌人, 另两个二人组是朋友, 则两个为朋友的二人组需要 2 种不同的石头.\n再考虑 $n=4$ 的情形, 设四个人为 $A 、 B 、 C 、 D$, 如果为朋友的二人组不多于 4 , 则 $S_4 \\leqslant 4$. 如果为朋友的二人组为 5 , 另一个二人组为敌人, 不妨设 $A 、 B$ 为敌人,则 $A C D$ 是朋友三角形,设他们拥有同种的石头 $1 . B C D$ 是朋友三角形, 设他们拥有同种的石头 2. 此时 $A 、 B 、 C 、 D$ 的项链分别为 $\\{1\\},\\{2\\},\\{1,2\\}$, $\\{1,2\\}$, 合乎条件.\n此时 $S_4=2$. 如果 $A 、 B 、 C 、 D$ 两两都是朋友, 则 $S_4 \\stackrel{?}{=} 1$.\n现在考察何时有 $S_4=4$. 此时, 显然有 4 个为朋友的二人组, 另两个二人组为敌人.\n如果为敌人的两个二人组有公共的人, 不妨设 $A 、 B$ 为敌人且 $A 、 C$ 为敌人.\n因为 $B C D$ 是朋友三角形, 设他们拥有共同的石头 1 , 再注意到 $A 、 D$ 是朋友, 设他们拥有共同的石头 2. 此时 $A 、 B 、 C 、 D$ 的项链分别为 $\\{2\\},\\{1\\}$, $\\{1\\},\\{1,2\\}$, 合乎条件, 此时 $S_4=2$. 如果为敌人的两个二人组没有公共的人, 不妨设 $A 、 B$ 为敌人且 $C 、 D$ 为敌人.\n此时, $A 、 B 、 C 、 D$ 被分为 2 组, 每组 2 人,\n同一组的 2 个人是敌人, 而任何不同组的 2 个人都是朋友.\n此时, 每个为朋友的二人组对应一种石头, 我们证明: 4 个为朋友的二人组对应的石头互不相同.\n实际上, 如果某 2 个为朋友的二人组对应相同的石头, 而这 2 个为朋友的二人组至少包含 3 个不同的人, 他们拥有公共的石头.\n但将 3 人归人前述的两组,必有 2 人在同一组,他们应该是敌人,矛盾.\n于是 $S_4=4$.\n有上述一些特例不难发现一般情况下的构造方法.\n当 $n$ 为奇数时, 设 $n=2 k+1$, 将 $n$ 个人分成两组,一组 $k$ 人, 另一组 $k+1$ 人, 令同一组的任何 2 个人都是敌人, 而任何不同组的任何 2 个人都是朋友.\n此时, 共有 $k(k+1)$ 个为朋友的二人组, 每个为朋友的二人组对应一块石头, 我们证明: $k(k+1)$ 个为朋友的二人组对应的石头互不相同.\n实际上, 如果某 2 个为朋友的二人组对应相同的石头, 而这 2 个为朋友的二人组至少包含 3 个不同的人, 他们拥有公共的石头.\n但将 3 人归人前述的两组, 必有 2 人在同一组, 他们应该是敌人,矛盾.\n于是, 此时至少需要 $k(k+1)=\\left[\\frac{n^2}{4}\\right]$ 块石头.\n当 $n$ 为偶数时, 设 $n=2 k$, 类似地, 将 $n$ 个人分成两组, 每组 $k$ 人, 则至少需要 $k^2=\\left[\\frac{n^2}{4}\\right]$ 块石头.\n下面证明, $S=\\left[\\frac{n^2}{4}\\right]$ 时, 可按要求构造项链.\n对 $n$ 归纳.\n假定 $n=k$ 时结论成立, 考虑 $n=k+1$ 的情形, 我们来分析增量 $\\Delta=S_{k+1}-S_k=\\left[\\frac{(k+1)^2}{4}\\right]-\\left[\\frac{k^2}{4}\\right]$. 为了便于计算 $\\Delta$, 应讨论 $k$ 的奇偶情况.\n当 $k$ 为奇数时, 设 $k=2 r+1$, 此时, $\\Delta=\\left[\\frac{(k+1)^2}{4}\\right]-\\left[\\frac{k^2}{4}\\right]=(r+ 1)^2-\\left(r^2+r\\right)=r+1=\\frac{k+1}{2}$. 当 $k$ 为偶数时, 设 $k=2 r$, 此时, $\\Delta= \\left[\\frac{(k+1)^2}{4}\\right]-\\left[\\frac{k^2}{4}\\right]=\\left(r^2+r\\right)-r^2=r=\\frac{k}{2}$. 由此可见, 由 $k$ 到 $k+1$, 增加的石头种数为 $\\frac{k+1}{2}$ (当 $k$ 为奇数时) 或 $\\frac{k}{2}$ (当 $k$ 为偶数时). 由此想到将原来 $k$ 个人分成 $\\frac{k+1}{2}$ (当 $k$ 为奇数时) 或 $\\frac{k}{2}$ (当 $k$ 为偶数时) 组,每组不多于 2 人 ( $k$ 为奇数时恰有一组为 1 人, 其余各组都是 2 人, 而 $k$ 为偶数时, 每组都是 2 人). 希望新增加 1 人 $P$ 后, $P$ 与每一组至多需要一块新的石头.\n这一要求能否实现? 如果某组中的 2 人与 $P$ 都是敌人, 则无需增加新石头.\n如果该组中的 2 人与 $P$ 一是朋友一是敌人, 则将为朋友的 2 人各增加一块相同新石头即可.\n但如果该组中的 2 人之间是敌人, 而他们与 $P$ 都是朋友呢, 此时每人需要增加一块不同的新石头, 需要 2 块新石头.\n由此可见, 与 $P$ 都是朋友且互为敌人的 2 人不能在同一组, 但这样的分组也未必能实现, 因为 $P$ 的敌人个数也许比朋友个数多.\n现在, 换一个角度思考, 如果固定某两个为朋友的人 $A 、 B$ (假定这两人是新增加的), 则原来的每个人与 $A 、 B$ 之间至多增加一块石头, 因此采用 $k$ 到 $k+2$ 的归纳方式即可完成证明.\n假定 $k$ 个人时结论成立, 考虑 $k+2$ 个人的情形.\n如果 $k+2$ 人中没有朋友, 则结论显然成立 (无需石头). 此外, 设 $A 、 B$ 是朋友, 则由归纳假设, 另 $k$ 个人之间至多需要 $\\left[\\frac{k^2}{4}\\right]$ 种石头.\n考察这 $k$ 个人中任意一个人 $P, P$ 与 $A 、 B$ 构成一个 3 人组, 我们证明此 3 人组只需增加一种新石头.\n实际上, 如果 $A 、 B$ 与 $P$ 都是敌人, 则无需增加新石头.\n如果 $A 、 B$ 与 $P$ 一是朋友一是敌人, 则将为朋友的 2 人各增加一块新石头即可.\n如果 $A 、 B$ 与 $P$ 都是朋友, 则每人增加一块新石头即可.\n由 $P$ 的任意性可知, $k$ 个人至多增加 $k$ 种新石头.\n又 $A 、 B$ 之间至多需要一种新石头, 所以 $k+2$ 人至多需要 $\\left[\\frac{k^2}{4}\\right]+ k+1=\\left[\\frac{(k+2)^2}{4}\\right]$ 种石头.\n综上所述, 命题获证.",
    "remark": "",
    "figures": []
}