{
    "source_file": "./raw_volume-zh/volume6/exercise1.tex",
    "problem_type": "proof",
    "problem": "问题25. 函数 $F: \\mathbf{N} \\rightarrow \\mathbf{N}$, 具有下述性质: 对任意 $n \\in \\mathbf{N}$, 都有\n(1) $F(4 n)=F(2 n)+F(n)$;\n(2) $F(4 n+2)=F(4 n)+1$;\n(3) $F(2 n+1)=F(2 n)+1$.\n证明: 对任意正整数 $m$, 满足 $0 \\leqslant n \\leqslant 2^m$, 且 $F(4 n)=F(3 n)$ 的整数 $n$ 的个数为 $F\\left(2^{m+1}\\right)$.",
    "solution": "在条件 (1) 中令 $n=0$, 可知 $F(0)=0$. 对 $n \\in \\mathbf{N}^*$, 设 $n$ 的二进制表示为 $n=\\left(n_k n_{k-1} \\cdots n_0\\right)=n_k \\cdot 2^k+\\cdots+n_0 \\cdot 2^0$, 这里 $n_k=1$, 而对 $0 \\leqslant i \\leqslant k-$ 1 , 有 $n_i \\in\\{0,1\\}$.\n我们对 $k$ 归纳来证明: 对任意 $n \\in \\mathbf{N}^*$, 都有(1):\n$$\nF(n)=n_k F_k+n_{k-1} F_{k-1}+\\cdots+n_0 F_0,\n$$\n这里数列 $\\left\\{F_m\\right\\}$ 定义为 $F_0=F_1=1, F_{m+2}=F_{m+1}+F_m, m=0,1,2, \\cdots$ (它是本书中 Fibonacci 数列下标向前平移一项所得).\n事实上, 由 $F(0)=0$ 及条件 (3) 可知 $F(1)=1$, 进而可得 $F(2)=1$, $F(3)=F(2)+1=F_0+F_1, F(4)=F(2)+F(1)=2=F_2$. 所以, 命题对 $k=0,1$ 成立.\n现设 (1) 对 $k$ 和 $k+1$ 成立, 考虑 $k+2$ 的情形, 此时可设 $n= \\left(n_{k+2} n_{k+1} \\cdots n_0\\right)_2$. 如果 $\\left(n_1, n_0\\right)=(0,0)$, 那么由 (1) 知 $F(n)= F\\left(\\left(n_{k+2} n_{k+1} \\cdots n_1\\right)_2\\right)+F\\left(\\left(n_{k+2} \\cdots n_2\\right)_2\\right)=n_{k+2} F_{k+1}+\\cdots+n_1 F_0+n_{k+2} F_k+\\cdots+ n_2 F_0=n_{k+2}\\left(F_{k+1}+F_k\\right)+\\cdots+n_2\\left(F_1+F_0\\right)+n_1 F_0=n_{k+2} F_{k+2}+\\cdots+n_2 F_2+ n_1 F_1+n_0 F_0$ (这里用到 $\\left.n_1=n_0=0\\right)$, (1) 对 $k+2$ 成立; 如果 $\\left(n_1, n_0\\right)=(1,0)$, 那么由 (2) 知 $F(n)=F\\left(\\left(n_{k+2} n_{k+1} \\cdots n_2 n_1^{\\prime} n_0^{\\prime}\\right)_2\\right)+1$, 这里 $n_1^{\\prime}=n_0^{\\prime}=0$, 于是, $F(n)=n_{k+2} F_{k+2}+\\cdots+n_2 F_2+1=n_{k+2} F_{k+2}+\\cdots+n_2 F_2+n_1 F_1+n_0 F_0$, (1) 也成立; 如果 $\\left(n_1, n_0\\right)=(0,1)$, 那么 $F(n)=F\\left(\\left(n_{k+2} \\cdots n_2 n_1^{\\prime} n_0^{\\prime}\\right)_2\\right)+1$, 这里 $n_1^{\\prime}=n_0^{\\prime}=0$, 利用条件 (1) 及前面的结论可知 (1) 成立; 如果 $\\left(n_1, n_0\\right)=(1$, $1)$, 那么 $F(n)=F\\left(\\left(n_{k+2} \\cdots n_1 n_0^{\\prime}\\right)\\right)+1$, 这里 $n_0^{\\prime}=0$, 利用条件 (2) 及前面的结论可知 (1) 成立.\n所以, (1) 对任意 $n \\in \\mathbf{N}^*$ 都成立.\n利用(1)可知 $F(4 n)=F(3 n)$ 的充要条件是 $n$ 的二进制表示 $\\left(n_k n_{k-1} \\cdots n_0\\right)_2$ 中没有相邻的两个数都等于 1 (这里还用到数列 $\\left\\{F_m\\right\\}$ 的定义). 在 $0 \\leqslant n<2^m$ 中, 记二进制表示中没有相邻的两个 1 的数的个数为 $f_m$, 则 $f_0=1, f_1=2$, 而去掉 $n$ 的末位数字 $n_0$ 后, 依 $n_0=0 、 1$ 分类, 分别有 $f_{m-1}$ 和 $f_{m-2}$ (因为 $n_0=1$ 时, 必有 $\\left.n_1=0\\right)$, 故 $f_m=f_{m-1}+f_{m-2}$. 这表明, 在 $0 \\leqslant n<2^m$ 中, 有 $F_{m+1}(= \\left.F\\left(2^{m+1}\\right)\\right)$ 个数 $n$ 满足 $F(4 n)=F(3 n)$, 从而命题成立.",
    "remark": "",
    "figures": []
}