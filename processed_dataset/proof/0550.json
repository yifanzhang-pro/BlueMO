{
    "source_file": "./raw_volume-zh/volume13/chapter2.tex",
    "problem_type": "proof",
    "problem": "例4. 圆内接四边形 $A B C D$ 的四条边长 $A B, B C, C D, D A$ 的长均为正整数, $D A=2005, \\angle A B C=\\angle A D C=90^{\\circ}$, 且 $\\max \\{A B, B C, C D\\}<2005$, 求四边形 $A B C D$ 的周长的最大值和最小值.",
    "solution": "解: $A B=a, B C=b, C D=c$, 则 $a^2+b^2=A C^2=c^2+2005^2$, 所以 $2005^2-a^2=b^2-c^2=(b+c)(b-c)$, 其中 $a, b, c \\in\\{1,2, \\cdots, 2004\\}$.\n不妨设 $a \\geqslant b$, 先固定 $a$, 令 $a_1=2005-a$, 则\n$$\n(b+c)(b-c)=2005^2-a^2=a_1\\left(4010-a_1\\right) . \\label{eq1}\n$$\n由 $a^2+b^2>2005^2$, 得 $a>\\frac{2005}{\\sqrt{2}}>1411$, 所以 $1 \\leqslant a_1<2005-1411=594$.\n所以, 由 式\\ref{eq1} 有 $b+c>\\sqrt{(b+c)(b-c)}=\\sqrt{a_1\\left(4010-a_1\\right)}$.\n当 $a_1=1$ 时, $a=2004,(b+c)(b-c)=4009=19 \\times 211$, 所以, $b+c \\geqslant 211, a+b+c \\geqslant 2004+211=2215>2155$;\n当 $a_1=2$ 时, $a=2003,(b+c)(b-c)=2^4 \\times 3 \\times 167$, 又 $b+c$ 与 $b-c$ 同奇偶, 所以, $b+c \\geqslant 2 \\times 167, a+b+c \\geqslant 2003+2 \\times 167>2155$;\n当 $a_1=3$ 时, $a=2002,(b+c)(b-c)=3 \\times 4007$, 所以, $b+c \\geqslant 4007$, $a+b+c \\geqslant 2002+4007>2155$\n当 $a_1=4$ 时, $a=2003 ,(b+c)(b-c)=2^3 \\times 2003$, 所以, $b+c \\geqslant 2 \\times 2003, a+b+c \\geqslant 2001+2 \\times 2003>2155$;\n当 $a_1=5$ 时, $a=2000,(b+c)(b-c)=3^2 \\times 5^2 \\times 89$, 所以, $b+c \\geqslant 225$, $a+b+c \\geqslant 2000+225>2155$;\n当 $a_1=6$ 时, $a=1999,(b+c)(b-c)=6 \\times 4004=156 \\times 154$, 所以, $b+c \\geqslant 156, a+b+c \\geqslant 1999+156=2155$;\n当 $a_1 \\geqslant 7$ 时, 因为 $b+c>\\sqrt{a_1\\left(4010-a_1\\right)}$, 所以 $a+b+c> \\sqrt{a_1\\left(4010-a_1\\right)}+2005-a_1$, 但 $7 \\leqslant a_1<594$, 我们可证明 $\\sqrt{a_1\\left(4010-a_1\\right)} +2005-a_1>2155$.\n实际上, $\\sqrt{a_1\\left(4010-a_1\\right)}+2005-a_1>2155 \\Leftrightarrow \\sqrt{a_1\\left(4010-a_1\\right)}> 150+a_1 \\Leftrightarrow-a_1^2+4010 a_1>a_1^2+300 a_1+150^2 \\Leftrightarrow a_1^2-1855 a_1+11250<0$, 由二次函数性质可知, 此不等式在 $7 \\leqslant a_1<594$ 时成立.\n综上所述, 恒有 $a+b+c \\geqslant 2155$, 于是 $A B+B C+C D+D A \\geqslant 2155+ 2005=4160$.\n当 $A B=1999, B C=155, C D=1$ 时等号成立,所以四边形 $A B C D$ 的周长的最小值为 4160 .\n下面求四边形 $A B C D$ 的周长的最大值:\n因为 $a \\geqslant b, c<2005$, 所以 $b+c<a+2005=4010-a_1$, 所以由 \\ref{eq1} 式知 $a_1<b-c<b+c<4010-a_1$.\n由于 $a_1$ 与 $b-c$ 同奇偶, 所以 $b-c \\geqslant a_1+2$, 于是\n$$\nb+c=\\frac{a_1\\left(4010-a_1\\right)}{b-c} \\leqslant \\frac{a_1\\left(4010-a_1\\right)}{a_1+2} .\n$$\n当 $b-c=a_1+2$ 时,\n$$\na+b+c=2005-a_1+\\frac{a_1\\left(4010-a_1\\right)}{a_1+2}=6021-2\\left(a_1+2+\\frac{4012}{a_1+2}\\right)\n$$\n而 $4012=2^2 \\times 17 \\times 59=68 \\times 59$, 所以 $a+b+c \\leqslant 6021-2 \\cdot(68+59)=5767$.\n当 $b-c \\neq a_1+2$ 时, $b-c \\geqslant a_1+4$, 从而\n$$\na+b+c \\leqslant 2005-a_1+\\frac{a_1\\left(4010-a_1\\right)}{a_1+4},\n$$\n而 $2005-a_1+\\frac{a_1\\left(4010-a_1\\right)}{a_1+4} \\leqslant 5767 \\Leftrightarrow a_1^2-122 a_1+7524 \\geqslant 0$.\n注意到 $\\Delta=122^2-4 \\times 7524<0$, 故上式恒成立.\n所以, $A B+B C+C D+D A \\leqslant 5767+2005=7772$, 当 $a=1948, b= 1939, c=1880$ 时等号成立, 故四边形 $A B C D$ 的周长的最大值为 7772 .",
    "remark": "",
    "figures": []
}