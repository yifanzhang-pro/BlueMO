{
    "source_file": "./raw_volume-zh/volume11/chapter8.tex",
    "problem_type": "proof",
    "problem": "例6. 设 $a_1, a_2, \\cdots, a_n$ 是正整数 $1,2, \\cdots, n$ 的任意排列, 设 $f(n)$ 是满足下述条件的排列的个数:\n(1) $a_1=1$ ;(2) $\\left|a_i-a_{i+1}\\right| \\leqslant 2, i=1,2, \\cdots, n-1$.\n试问 $f(2011)$ 能否被 3 整除?",
    "solution": "解:我们称满足条件 (1) (2) 的排列 $a_1, a_2, \\cdots, a_n$ 为好排列, 因为 $a_1=$ 1 , 故由 (2)得 $a_2=2$ 或 3 .\n(1) 若 $a_2=2$, 则 $a_2, a_3, \\cdots, a_n$ 的各项减去 1 后是 $n-1$ 项的好排列, 其个数为 $f(n-1)$;\n(2) 若 $a_2=3, a_3=2$, 则必有 $a_3=4$, 故 $a_4, a_5, \\cdots, a_n$ 的各项减去 3 以后是 $n-3$ 项的好排列, 其个数为 $f(n-3)$;\n(3) 若 $a_2=3, a_3 \\geqslant 4$, 设 $a_{k+1}$ 是该排列中第一个出现的偶数,则前 $k$ 个数应是 $1,3,5, \\cdots,(2 k-1), a_{k+1}$ 应是 $2 k$ 或 $2 k-2$, 因此 $a_k$ 与 $a_{k+1}$ 是相邻整数.\n由条件 (2) 知道, 排在 $a_{k+1}$ 后面的各数, 要么都小于它, 要么都大于它, 因为 2 在 $a_{k+1}$ 后面,故 $a_{k+2}, \\cdots, a_n$ 均小于 $a_{k+1}$. 这只有一种可能,即先依递增顺序排出所有 $\\leqslant n$ 的奇数再依递减次序依次排出所有 $\\leqslant n$ 的正偶数.\n综上所述,有递推关系\n$$\nf(n)=f(n-1)+f(n-3)+1(n \\geqslant 4),\n$$\n用枚举法易算出 $f(1)=1, f(2)=1, f(3)=2$, 由上述递推关系便可算出数列 $\\{f(n)\\}$ 模 3 的余数依次为\n$$\n1,1,2,1,0,0,2,0,1,1,2,1, \\cdots\n$$\n这个余数列以 8 为周期 (不难用数学归纳法证明这一点), 而 $2011 \\equiv 251 \\times 8+$ 3 , 故 $f(2011) \\equiv f(3)=2(\\bmod 3)$, 所以 $f(2011)$ 不能被 3 整除.",
    "remark": "",
    "figures": []
}