{
    "source_file": "./raw_volume-zh/volume13/chapter6.tex",
    "problem_type": "calculation",
    "problem": "例4. 设 $a_1<a_2<\\cdots<a_n=100$, 其中 $a_1, a_2, \\cdots, a_n$ 是正整数, 若对任何 $i \\geqslant 2$, 都存在 $1 \\leqslant p \\leqslant q \\leqslant r \\leqslant i-1$, 使 $a_i=a_p+a_q+a_r$, 求 $n$ 的最大、最小值.",
    "solution": "解:(1) 显然 $n \\neq 1,2$, 所以 $n \\geqslant 3$.\n又当 $n=3$ 时,取 $a_1=20, a_2=60, a_3=100$, 则 $a_2=a_1+a_1+a_1$, $a_3=a_1+a_1+a_2$, 所以 $n=3$ 合乎条件,故 $n$ 的最小值为 3 .\n(2) 若 $a_1 \\equiv 1(\\bmod 2)$, 则 $a_2=3 a_1 \\equiv 3 \\equiv 1(\\bmod 2)$. 设 $i \\leqslant k(k \\geqslant 2)$ 时, $a_k \\equiv 1(\\bmod 2)$, 则由 $a_{k+1}=a_p+a_q+a_r$, 其中 $(p \\leqslant q \\leqslant r \\leqslant k)$, 及归纳假设 $a_p \\equiv 1(\\bmod 2), a_q \\equiv 1(\\bmod 2), a_r \\equiv 1(\\bmod 2)$, 有 $a_{k+1}=a_p+a_q+a_r \\equiv 1+1+1 \\equiv 1(\\bmod 2)$, 所以对一切 $i=1,2, \\cdots, n$, 有 $a_i \\equiv 1(\\bmod 2)$, 这与 $100 \\equiv 0(\\bmod 2)$ 矛盾,所以 $a_1 \\equiv 0(\\bmod 2)$ ,进而 $a_1 \\equiv 0 、 2(\\bmod 4)$;\n若 $a_1 \\equiv 2(\\bmod 4)$, 则 $a_2=3 a_1 \\equiv 6 \\equiv 2(\\bmod 4)$. 设 $i \\leqslant k(k \\geqslant 2)$ 时, $a_k \\equiv 2(\\bmod 4)$, 则由 $a_{k+1}=a_p+a_q+a_r$, 其中 $(p \\leqslant q \\leqslant r \\leqslant k)$, 及归纳假设 $a_p \\equiv 2(\\bmod 4), a_q \\equiv 2(\\bmod 4), a_r \\equiv 2(\\bmod 4)$, 有 $a_{k+1}=a_p+a_q+a_r \\equiv 2+2+2 \\equiv 2(\\bmod 4)$, 所以对一切 $i=1,2, \\cdots, n$, 有 $a_i \\equiv 2(\\bmod 4)$, 这与 $100 \\equiv 0(\\bmod 4)$ 矛盾,所以 $a_1 \\equiv 0(\\bmod 4)$ ,进而 $a_1 \\equiv 0 、 4(\\bmod 8)$;\n若 $a_1 \\equiv 0(\\bmod 8)$, 则 $a_2=3 a_1 \\equiv 0(\\bmod 8)$. 设 $i \\leqslant k(k \\geqslant 2)$ 时, $a_k \\equiv 0(\\bmod 8)$, 则由 $a_{k+1}=a_p+a_q+a_r$, 其中 $(p \\leqslant q \\leqslant r \\leqslant k)$, 及归纳假设 $a_p \\equiv 0(\\bmod 8), a_q \\equiv 0(\\bmod 8), a_r \\equiv 0(\\bmod 8)$, 有 $a_{k+1}=a_p+a_q+a_r \\equiv 0+0+ 0 \\equiv 0(\\bmod 8)$, 所以对一切 $i=1,2, \\cdots, n$, 有 $a_i \\equiv 0(\\bmod 8)$, 这与 $100 \\equiv 4(\\bmod 8)$ 矛盾,所以 $a_1 \\equiv 4(\\bmod 8)$, 所以 $a_1 \\geqslant 4$.\n因为 $a_1 \\equiv 4(\\bmod 8)$, 所以 $a_2=3 a_1 \\equiv 12 \\equiv 4(\\bmod 8)$. 设 $i \\leqslant k(k \\geqslant 2)$ 时, $a_k \\equiv 4(\\bmod 8)$, 则由 $a_{k+1}=a_p+a_q+a_r$, 其中 $(p \\leqslant q \\leqslant r \\leqslant k)$, 及归纳假设, $a_p \\equiv 4(\\bmod 8), a_q \\equiv 4(\\bmod 8), a_r \\equiv 4(\\bmod 8)$, 有 $a_{k+1}=a_p+a_q+a_r \\equiv 4+4+4 \\equiv 4(\\bmod 8)$, 所以对一切 $i=1,2, \\cdots, n$, 有 $a_i \\equiv 4(\\bmod 8)$, 所以对 $i \\geqslant 2$, 有 $a_i-a_{i-1} \\equiv 0(\\bmod 8)$, 所以 $a_i-a_{i-1} \\geqslant 8$ (间距估计), 即 $a_i \\geqslant a_{i-1}+8$.\n所以 $a_n \\geqslant a_{n-1}+8 \\geqslant a_{n-2}+2 \\times 8 \\geqslant a_{n-3}+3 \\times 8 \\geqslant \\cdots \\geqslant a_1+(n-1) \\times 8 \\geqslant 4+(n-1) \\times 8=8 n-4$, 所以 $8 n \\leqslant a_n+4=104$, 所以 $n \\leqslant 13$.\n又当 $n=13$ 时,取 $a_i=8 i-4(i=1,2, \\cdots, 13)$, 则对 $i \\geqslant 2$, 有 $a_i= a_{i-1}+8=a_{i-1}+a_1+a_1$, 所以 $n=13$ 合乎条件,故 $n$ 的最大值为 13 .\n综上所述, $n$ 的最小值为 3 , 最大值为 13 .",
    "remark": "注:: $n$ 有多种取值, 比如 $n=5$ 时, $4,12,36,44,100$ 合乎条件, 实际上, $12=4+4+4,36=12+12+12,44=36+4+4,100=44+44+12$.",
    "figures": []
}