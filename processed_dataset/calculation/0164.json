{
    "source_file": "./raw_volume-zh/volume11/chapter15.tex",
    "problem_type": "calculation",
    "problem": "例3. 求最大正整数 $n$, 使存在 $n$ 个不同实数 $x_1, x_2, \\cdots, x_n$ 满足: 对任意 $1 \\leqslant i<j \\leqslant n$, 有 $\\left(1+x_i x_j\\right)^2 \\leqslant 0.99\\left(1+x_i^2\\right)\\left(1+x_j^2\\right)$.",
    "solution": "分析:因为 $\\left(1+x_i x_j\\right)^2 \\leqslant 0.99\\left(1+x_i^2\\right)\\left(1+x_j^2\\right) \\Leftrightarrow 100\\left(1+x_i x_j\\right)^2 \\leqslant$\n$$\n\\begin{aligned}\n& 99\\left(1+x_i^2\\right)\\left(1+x_j^2\\right) \\Leftrightarrow 99\\left[\\left(1+x_i^2\\right)\\left(1+x_j^2\\right)-\\left(1+x_i x_j\\right)^2\\right] \\geqslant\\left(1+x_i x_j\\right)^2 \\Leftrightarrow \\\\\n& 99\\left(x_i-x_j\\right)^2 \\geqslant\\left(1+x_i x_j\\right)^2 \\Leftrightarrow\\left|\\frac{x_i-x_j}{1+x_i x_j}\\right| \\geqslant \\frac{1}{\\sqrt{99}} .\n\\end{aligned}\n$$\n由此联想到两角差的正切公式: $\\tan (\\alpha-\\beta)=\\frac{\\tan \\alpha-\\tan \\beta}{1+\\tan \\alpha \\tan \\beta}$.\n解对任意 $n$ 个实数 $x_1, x_2, \\cdots, x_n$, 令 $x_i=\\tan \\theta_i\\left(-\\frac{\\pi}{2}<\\theta_i<\\frac{\\pi}{2}, i=1\\right.$, $2, \\cdots, n$, 且不妨设 $\\left.\\theta_1<\\theta_2<\\cdots<\\theta_n\\right)$.\n那么,当 $\\theta_n-\\theta_1>\\frac{n-1}{n} \\pi=\\pi-\\frac{\\pi}{n}$ 时, 由 $\\theta_n-\\theta_1<\\pi$ 可得 $\\tan ^2\\left(\\theta_n-\\theta_1\\right)< \\tan ^2 \\frac{\\pi}{n}$; 当 $\\theta_n-\\theta_1 \\leqslant \\frac{n-1}{n} \\pi$ 时, 由 $\\theta_n-\\theta_1=\\left(\\theta_n-\\theta_{n-1}\\right)+\\left(\\theta_{n-1}-\\theta_{n-2}\\right)+\\cdots+\\left(\\theta_2-\\right. \\left.\\theta_1\\right) \\leqslant \\frac{n-1}{n} \\pi$ 知, 存在 $i(1 \\leqslant i \\leqslant n-1)$ 使 $0<\\theta_{i+1}-\\theta_i \\leqslant \\frac{\\pi}{n}$, 从而有 $\\tan ^2\\left(\\theta_{i+1}-\\theta_i\\right) \\leqslant \\tan ^2 \\frac{\\pi}{n}$. 由上可知, 总存在 $1 \\leqslant i<j \\leqslant n$ 使 $\\tan ^2\\left(\\theta_j-\\theta_i\\right) \\leqslant \\tan ^2 \\frac{\\pi}{n}$ 即\n$$\n\\begin{gathered}\n\\left(\\cos ^2 \\frac{\\pi}{n}\\right)\\left(\\frac{x_j-x_i}{1+x_i x_j}\\right)^2 \\leqslant \\sin ^2 \\frac{\\pi}{n} \\\\\n\\Leftrightarrow\\left(\\sin ^2 \\frac{\\pi}{n}\\right)\\left(1+x_i x_j\\right)^2 \\geqslant\\left(\\cos ^2 \\frac{\\pi}{n}\\right)\\left(x_j-x_i\\right)^2,\n\\end{gathered}\n$$\n两边再加 $\\left(\\cos ^2 \\frac{\\pi}{n}\\right)\\left(1+x_i x_j\\right)^2$ 得\n$$\n\\begin{aligned}\n\\left(1+x_i x_j\\right)^2 & \\geqslant\\left(\\cos ^2 \\frac{\\pi}{n}\\right)\\left[\\left(x_j-x_i\\right)^2+\\left(1+x_i x_j\\right)^2\\right] \\\\\n& =\\left(\\cos ^2 \\frac{\\pi}{n}\\right)\\left(1+x_i^2\\right)\\left(1+x_j^2\\right) .\n\\end{aligned}\n$$\n而当 $n \\geqslant 32$ 时,有\n$$\n\\begin{aligned}\n\\cos ^2 \\frac{\\pi}{n} & =1-\\sin ^2 \\frac{\\pi}{n} \\geqslant 1-\\left(\\frac{\\pi}{n}\\right)^2 \\\\\n& \\geqslant 1-\\left(\\frac{\\pi}{32}\\right)^2>1-\\left(\\frac{1}{10}\\right)^2=0.99 .\n\\end{aligned}\n$$\n即当 $n \\geqslant 32$ 时, 对任意 $n$ 个实数 $x_1, x_2, \\cdots, x_n$, 其中必存在两个实数 $x_i, x_j$ 使\n$$\n\\left(1+x_i x_j\\right)^2>0.99\\left(1+x_i^2\\right)\\left(1+x_j^2\\right),\n$$\n故 $n \\geqslant 32$ 时, 不存在 $n$ 个实数 $x_1, x_2, \\cdots, x_n$ 满足题目条件.\n另一方面, 取 31 个实数 $x_i=\\tan (i \\theta)(i=1,2, \\cdots, 31)$, 其中 $\\theta= \\arctan \\frac{1}{\\sqrt{99}}$, 则 $\\tan \\theta=\\frac{1}{\\sqrt{99}}=\\frac{\\sqrt{9} \\overline{9}}{99}<\\frac{10}{99}<\\frac{\\pi}{31}$, 故 $0<\\theta<\\frac{\\pi}{31}$, 所以, 当 $1 \\leqslant i<j \\leqslant 31$ 时, $\\theta \\leqslant(j-i) \\theta \\leqslant 30 \\theta<\\frac{30 \\pi}{31}=\\pi-\\frac{\\pi}{31}<\\pi-\\theta$, 故对任意 $1 \\leqslant i<j \\leqslant 31$ 有\n$$\n\\begin{aligned}\n\\tan ^2(j-i) \\theta & \\geqslant \\tan ^2 \\theta=\\frac{1}{99} \\Leftrightarrow\\left(\\frac{x_j-x_i}{1+x_i x_j}\\right)^2 \\geqslant \\frac{1}{99} \\\\\n& \\Leftrightarrow\\left(1+x_i x_j\\right)^2 \\leqslant 0.99\\left(1+x_i^2\\right)\\left(1+x_j^2\\right) .\n\\end{aligned}\n$$\n可见存在 31 个不同实数 $x_1, x_2, \\cdots, x_{31}$ 满足题目条件.\n综上知所求 $n$ 的最大值为 31 .",
    "remark": "",
    "figures": []
}