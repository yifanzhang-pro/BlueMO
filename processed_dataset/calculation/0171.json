{
    "source_file": "./raw_volume-zh/volume11/chapter3.tex",
    "problem_type": "calculation",
    "problem": "例4. 一副三色牌, 共有纸牌 32 张.\n其中红、黄、蓝每种颜色的牌各 10 张, 编号分别是 $1,2, \\cdots, 10$; 另有大、小王牌各一张, 编号均为 0. 从这副牌中任取若干张牌.\n然后按如下规则计算分值: 每张编号为 $k$ 的牌计为 $2^k$ 分.\n若它们的分值之和为 $n$ ( $n \\leqslant 2020$ 为给定的正整数), 就称这些牌为一个\"好\"牌组.\n试求\"好\"牌组的个数.",
    "solution": "解:对 $n \\in\\{1,2, \\cdots, 2020\\}$, 用 $a_n$ 表示分值之和为 $n$ 的牌组数目, 则由题意知 $a_n$ 等于函数\n$$\nf(x)=\\left(1+x^{2^0}\\right)^2\\left(1+x^{2^1}\\right)^3\\left(1+x^{2^2}\\right)^3 \\cdots\\left(1+x^{2^{20}}\\right)^3\n$$\n的展开式中 $x^n$ 的系数 (约定 $|x|<1$ ), 由于\n$$\n\\begin{aligned}\nf(x) & =\\frac{1}{1+x}\\left\\{\\left(1+x^{2^0}\\right)\\left(1+x^{2^1}\\right)\\left(1+x^{2^2}\\right) \\cdots\\left(1+x^{2^{10}}\\right)\\right\\}^3 \\\\\n& =\\frac{1}{(1+x)(1-x)^3}\\left(1-x^{2^{11}}\\right)^3,\n\\end{aligned}\n$$\n而 $n \\leqslant 2020<2^{11}$, 所以 $a_n$ 等于\n$$\ng(x)=\\frac{1}{(1+x)(1-x)^3},\n$$\n展开式中 $x^n$ 的系数, 由于\n$$\ng(x)=\\frac{1}{\\left(1-x^2\\right)(1-x)^2}=\\left(\\sum_{i=0}^{\\infty} x^{2 i}\\right)\\left(\\sum_{j=0}^{\\infty} \\mathrm{C}_{j+1}^1 x^j\\right),\n$$\n故当 $n=2 k$ 时, $x^{2 k}$ 的系数为\n$$\n\\begin{aligned}\na_{2 k} & =\\sum_{i=0}^k \\mathrm{C}_{2 k-2 i+1}^1=\\sum_{i=0}^k[2(k-i)+1] \\\\\n& =(2 k+1)+(2 k-1)+(2 k-3)+\\cdots+5+3+1 \\\\\n& =(k+1)^2=\\frac{(2 k+2)^2}{4}=\\left[\\frac{(n+2)^2}{4}\\right] ;\n\\end{aligned}\n$$\n当 $n=2 k-1$ 时, $x^{2 k-1}$ 的系数为\n$$\n\\begin{aligned}\na_{2 k-1} & =\\sum_{i=0}^k \\mathrm{C}_{(2 k-1)-2 i+1}^1=\\sum_{i=0}^k 2(k-i) \\\\\n& =2 k+(2 k-2)+(2 k-4)+\\cdots+6+4+2=k(k+1) \\\\\n& =\\frac{(2 k+1)^2-1}{4}=\\left[\\frac{(2 k+1)^2}{4}\\right]=\\left[\\frac{(n+2)^2}{4}\\right] .\n\\end{aligned}\n$$\n从而,所求的\"好\"牌组的个数为\n$$\na_n=\\left[\\frac{(n+2)^2}{4}\\right] . \\quad\\left(n \\in \\mathbf{N}_{+} \\text {且 } n \\leqslant 2020\\right)\n$$\n(特别,当 $n=2004$ 时, \"好\"牌组的个数为 $a_{2004}=1003^2$. )",
    "remark": "注:例 4 中也可用下列方法求 $g(x)=\\frac{1}{(1+x)(1-x)^3}$ 的展开式中 $x^n$ 的系数:令\n$$\ng(x)=\\frac{1}{(1+x)(1-x)^3}=\\frac{A}{1+x}+\\frac{B}{(1-x)^3}+\\frac{C}{(1-x)^2}+\\frac{D}{1-x},\n$$\n则 $A=\\left.\\frac{1}{(1-x)^3}\\right|_{x=-1}=\\frac{1}{8}, B=\\left.\\frac{1}{1+x}\\right|_{x=1}=\\frac{1}{2}$, 于是\n$$\n\\begin{aligned}\n\\frac{C}{(1-x)^2}+\\frac{D}{1-x} & =\\frac{1}{(1+x)(1-x)^3}-\\frac{1}{8(1+x)}-\\frac{1}{2(1-x)^3} \\\\\n& =\\frac{8-(1-x)^3-4(1+x)}{8(1+x)(1-x)^3}=\\frac{x^3-3 x^2-x+3}{8(1+x)(1-x)^3} \\\\\n& =\\frac{(x-3)(x+1)(x-1)}{8(1+x)(1-x)^3}=\\frac{3-x}{8(1-x)^2}=\\frac{2+(1-x)}{8(1-x)^2} \\\\\n& =\\frac{1}{4(1-x)^2}+\\frac{1}{8(1-x)},\n\\end{aligned}\n$$\n即 $C=\\frac{1}{4}, D=\\frac{1}{8}$, 所以\n$$\ng(x)=\\frac{1}{8(1+x)}+\\frac{1}{2(1-x)^3}+\\frac{1}{4(1-x)^2}+\\frac{1}{8(1-x)}\n$$\n$$\n\\begin{aligned}\n& =\\frac{1}{8} \\sum_{k=0}^{\\infty}(-1)^k x^k+\\frac{1}{2} \\sum_{k=0}^{\\infty} \\mathrm{C}_{k+2}^2 x^k+\\frac{1}{4} \\sum_{k=0}^{\\infty} \\mathrm{C}_{k+1}^1 x^k+\\frac{1}{8} \\sum_{k=0}^{\\infty} x^k \\\\\n& =\\frac{1}{8} \\sum_{k=0}^{\\infty}\\left\\{(-1)^k+4 \\mathrm{C}_{k+2}^2+2 \\mathrm{C}_{k+1}^1+1\\right\\} x^k,\n\\end{aligned}\n$$\n其中 $x^n$ 的系数为\n$$\n\\begin{aligned}\na_n & =\\frac{1}{8}\\left\\{(-1)^n+4 \\mathrm{C}_{n+2}^2+2 \\mathrm{C}_{n+1}^1+1\\right\\} \\\\\n& =\\frac{1}{8}\\left\\{(-1)^n+2(n+2)(n+1)+2(n+1)+1\\right\\} \\\\\n& =\\frac{2 n^2+8 n+7+(-1)^n}{8} \\\\\n& =\\frac{(n+2)^2}{4}-\\frac{1-(-1)^n}{8}=\\left[\\frac{(n+2)^2}{4}\\right] .\n\\end{aligned}\n$$",
    "figures": []
}