{
    "source_file": "./raw_volume-zh/volume11/chapter13.tex",
    "problem_type": "calculation",
    "problem": "例6. 设 $M$ 为平面上坐标为 $(p \\times 1994,7 p \\times 1994)$ 的点, 其中 $p$ 为素数, 求满足下列条件的直角三角形的个数:\n(1)三角形的顶点都是整点, $M$ 是直角顶点;\n(2) 三角形的内心是坐标原点.",
    "solution": "分析:如图(<FilePath:./images/volume11/figures/fig-c13i1.png>), 直角三角形 $M A B$ 满足条件 (1),(2), 其内切圆半径为 $r$, 过 $O$ 分别作 $M A$, $M B$ 的垂线, 垂足分别为 $C, D$, 则易知 $O C= O D=M C=M D=r=\\frac{1}{\\sqrt{2}} O M$, 故 Rt $\\triangle M A B$ 由 $B D=u$ 和 $A C=v$ 唯一确定.\n为此, 我们只要根据条件 (1),(2) 建立 $u, v$ 满足的不定方程 (组), 再通过不定方程 (组) 的解数的计算就可得出所求直角三角形的个数.\n这样就通过建立对应关系, 将一个复杂的不熟悉的问题转化为一个熟知的较易的问题来求解.\n解法一为了计算方便, 将坐标原点平移到 $M$, 建立新的直角坐标系 $x^{\\prime} M y^{\\prime}$, 于是在新的坐标系中, $M$ 的坐标为 $(0,0)$, 内心 $O$ 的坐标为 $(-p \\times 1994,-7 p \\times 1994)$. 所以\n$$\n\\begin{aligned}\n|O M| & =\\sqrt{(p \\times 1994)^2+(7 p \\times 1994)^2} \\\\\n& =p \\times 1994 \\times 5 \\sqrt{2} .\n\\end{aligned}\n$$\n设 $\\triangle M A B$ 符合条件,其内切圆半径为 $r$,过 $O$ 分别作 $M A$ 和 $M B$ 的垂线, 垂足分别为 $C$ 和 $D$, 设 $A M$ 的斜率为 $k$, 易知 $O M$ 的斜率为\n$$\nk^{\\prime}=\\frac{7 p \\times 1994}{p \\times 1994}=7,\n$$\n注意到 $O$ 为 Rt $\\triangle M A B$ 的内心, $\\angle O M A=45^{\\circ}$, 故由两直线夹角公式得\n$$\n1=\\tan 45^{\\circ}=\\frac{k^{\\prime}-k}{1+k k^{\\prime}}=\\frac{7-k}{1+7 k},\n$$\n所以 $k=\\frac{3}{4}$, 而 $M B \\perp M A$, 故 $M B$ 的斜率为 $k_1=-\\frac{4}{3}$. 由此, 可设 $A, B$ 的坐标为 $A(-4 t,-3 t), B\\left(3 t^{\\prime},-4 t^{\\prime}\\right)$, 因 $(3,4)=1$, 且 $A, B$ 为整点, 故 $t$, $t^{\\prime}$ 皆为正整数, 于是 $M A=5 t, M B=5 t^{\\prime}$, 并且 $M C=M D=r=M O \\cos 45^{\\circ}= p \\times 1994 \\times 5$.\n$$\n\\text { 记 } B D=u, A C=v \\text {, 则 } u=M B-M D=5\\left(t^{\\prime}-p \\times 1994\\right), v=\n$$\n$M A-M C=5(t-p \\times 1994)$. 记 $\\angle O B D=\\alpha, \\angle O A C=\\beta$, 易知 $\\alpha+\\beta= \\frac{1}{2}(\\angle M A B+\\angle M B A)=45^{\\circ}, \\tan \\alpha=\\frac{r}{u}, \\tan \\beta=\\frac{r}{v}$ 且 $\\frac{r}{u}=\\tan \\alpha= \\tan \\left(45^{\\circ}-\\beta\\right)=\\frac{1-\\tan \\beta}{1+\\tan \\beta}=\\frac{v-r}{v+r}$, 所以 $u=\\frac{r(v+r)}{v-r}$ 记 $v-r=m, \\frac{2 r^2}{m}=n$, 则 $u=\\frac{r(m+2 r)}{m}=r+n$. 可见 $m$ 及 $n$ 均为 5 的正整数倍, 且\n$$\nm n=2 r^2=2(p \\times 1994 \\times 5)^2=2^3 \\times 5^2 \\times 997^2 \\times p^2 .\n$$\n因为对于 $m, n$ 的一组正整数解 $(m, n)$, 可求出唯一一组 $u, v$ 的正整数解 $(u, v)=(n+r, m+r)$, 从而唯一确定一个符合条件的 Rt $\\triangle M A B$, 反之亦真.\n故符合条件的 Rt $\\triangle M A B$ 的个数 $S$ 等于不定方程 (1)的满足条件 $5 \\mid m$ 和 $5 \\mid n$ 的正整数解组 $(m, n)$ 的组数.\n1. 若 $p \\neq 2, p \\neq 997$, 则 $\\frac{m}{5} \\cdot \\frac{n}{5}=2^3 \\times p^2 \\times 997^2$ 的一切解为\n$$\n\\left\\{\\begin{array}{l}\n\\frac{m}{5}=2^i \\times p^j \\times 997^k \\\\\n\\frac{n}{5}=2^{3-i} \\times p^{2-j} \\times 997^{2-k}\n\\end{array} \\quad\\left(\\begin{array}{l}\ni=0,1,2,3 \\\\\nj=0,1,2 \\\\\nk=0,1,2\n\\end{array}\\right),\\right.\n$$\n共有 $4 \\times 3 \\times 3=36$ 组解.\n2. 若 $p=997$, 则 $\\frac{m}{5} \\cdot \\frac{n}{5}=2^3 \\times 997^4$ 的一切解为\n$$\n\\left\\{\\begin{array}{ll}\n\\frac{m}{5} & =2^i \\times 997^j \\\\\n\\frac{n}{5} & =2^{3-i} \\times 997^{4-j}\n\\end{array} \\quad\\left(\\begin{array}{l}\ni=0,1,2,3 \\\\\nj=0,1,2,3,4\n\\end{array}\\right),\\right.\n$$\n共有 $4 \\times 5=20$ 组解.\n3. 若 $p=2$, 则 $\\frac{m}{5} \\cdot \\frac{n}{5}=2^5 \\times 997^2$ 的一切解为\n$$\n\\left\\{\\begin{array}{ll}\n\\frac{m}{5}=2^i \\times 997^j \\\\\n\\frac{n}{5}=2^{5-i} \\times 997^{2-j}\n\\end{array} \\quad\\left(\\begin{array}{l}\ni=0,1,2,3,4,5 \\\\\nj=0,1,2\n\\end{array}\\right),\\right.\n$$\n共有 $6 \\times 3=18$ 组解.\n故符合条件的三角形个数为\n$$\nS=\\left\\{\\begin{array}{l}\n36, p \\neq 2 \\text { 且 } p \\neq 997 \\text { 时, } \\\\\n20, p=997 \\text { 时, } \\\\\n18, p=2 \\text { 时.\n}\n\\end{array}\\right.\n$$",
    "remark": "",
    "figures": [
        "./images/volume11/figures/fig-c13i1.png"
    ]
}