{
    "source_file": "./raw_volume-zh/volume14/chapter16.tex",
    "problem_type": "calculation",
    "problem": "例5. 已知 $n(n \\geqslant 2)$ 个有限集合 $A_1, A_2, \\cdots, A_n$ 满足: 对任意 $a \\in M= \\bigcup_{i=1}^n A_i, a$ 至少属于 $A_1, A_2, \\cdots, A_n$ 中的两个集合, 且对任意 $1 \\leqslant i<j \\leqslant n$, 有 $\\left|A_i \\cap A_j\\right| \\leqslant 1$. 试求 $|M|$ 的最大值.\n(注: $|X|$ 表示有限集合 $X$ 的元素个数.)",
    "solution": "解: $M=\\left\\{a_1, a_2, \\cdots, a_m\\right\\}$, 其中对 $k=1,2, \\cdots, m, a_k$ 属于 $A_1$, $A_2, \\cdots, A_n$ 中的 $t_k$ 个集合, $t_k \\geqslant 2$.\n考虑满足 $a_k \\in A_i \\cap A_j$ 的 $\\left(a_k, A_i, A_j\\right)$ 的组数 $S$, 其中 $1 \\leqslant k \\leqslant m, 1 \\leqslant$ 130 $\\quad i<j \\leqslant n$.\n一方面, 先固定 $i, j$ 并对 $k$ 求和, 这样的 $\\left(a_k, A_i, A_j\\right)$ 有 $\\left|A_i \\cap A_j\\right|$ 组, 再对 $i, j$ 求和, 并注意到 $\\left|A_i \\cap A_j\\right| \\leqslant 1$, 得\n$$\nS=\\sum_{1 \\leqslant i<j \\leqslant n}\\left|A_i \\cap A_j\\right| \\leqslant \\frac{n(n-1)}{2} .\n$$\n另一方面, 先固定 $k$ 并对 $i, j$ 求和, 这样的 $\\left(a_k, A_i, A_j\\right)$ 有 $\\mathrm{C}_{t_k}^2$ 组, 再对 $k$ 求和, 并注意到 $t_k \\geqslant 2$, 得\n$$\nS=\\sum_{k=1}^m \\mathrm{C}_{t_k}^2 \\geqslant \\sum_{k=1}^m 1=m . \\label{eq1}\n$$\n结合以上两方面可得 $|M|=m \\leqslant \\frac{n(n-1)}{2}$.\n下面构造一个使 $|M|=\\frac{n(n-1)}{2}$ 的例子:\n将 $\\{1,2, \\cdots, n\\}$ 的所有二元子集记为 $B_1, B_2, \\cdots, B_N, N=\\frac{n(n-1)}{2}$, 令 $a_k \\in A_i$ 当且仅当 $i \\in B_k, k=1,2, \\cdots, N$. 此时每个 $\\left|B_k\\right|=2$, 故每个 $a_k$ 属于 $A_1, A_2, \\cdots, A_n$ 中的两个集合; 又若 $a_k \\in A_i \\cap A_j$, 则 $i, j \\in B_k$, 这样的\n$k$ 唯一, 故 $\\left|A_i \\cap A_j\\right| \\leqslant 1$. 该例子满足题意, 并且使 $|M|=N$.\n综上所述, $|M|$ 的最大值为 $\\frac{n(n-1)}{2}$.",
    "remark": "注:许多关于集合的问题可以从两方面去考虑, 一个集合含有哪些元素, 一一个元素属于哪些集合, 然后将这两方面综合起来.\n本题中, 对于 $\\left(a_k, A_i, A_j\\right)$  的数目, 先固定集合对, 对元素求和; 再固定元素, 对集合对求和, 两者应相等.\n上述证明中的 \\ref{eq1} 式可换成如下更精细的估计:\n$$\nS=\\sum_{k=1}^m \\frac{t_k\\left(t_k-1\\right)}{2} \\geqslant \\frac{1}{2} \\sum_{k=1}^m t_k=\\frac{1}{2} \\sum_{i=1}^n\\left|A_i\\right|,\n$$\n其中最后一步是对满足 $a_k \\in A_i$ 的 $\\left(a_k, A_i\\right)$ 的总数进行换序求和.\n如此可得到比原题更强的结论: $\\sum_{i=1}^n\\left|A_i\\right| \\leqslant n(n-1)$, 进而通过举例可推知, $\\sum_{i=1}^n\\left|A_i\\right|$ 的最大值等于 $n(n-1)$.",
    "figures": []
}