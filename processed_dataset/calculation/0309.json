{
    "source_file": "./raw_volume-zh/volume13/chapter12.tex",
    "problem_type": "calculation",
    "problem": "例2. 有 $h$ 个 $8 \\times 8$ 棋盘, 每个棋盘上的格均可适当填上 $1,2,3, \\cdots, 64$, 每个格填一个数, 使任何两个棋盘以任何方式重合时, 相同位置上的数不同.\n求 $h$ 的最大值.",
    "solution": "分析:解.\n先看特殊情形.\n考察 $2 \\times 2$ 棋盘, 我们发现两个这样的棋盘上任何两个格都有可能重合.\n从而同一个棋盘上的 4 个格只能看作是一个类, 同类中的格只能填互异的正整数.\n所以 $h \\leqslant\\left[\\frac{\\text { 填数的个数 }}{\\text { 同类格的个数 }}\\right]=\\left[\\frac{2 \\times 2}{4}\\right]=1$. 此时 $h$ 的最大值为 1 .\n再考察 $3 \\times 3$ 棋盘, 如右表, 棋盘上的格可以分为 $A 、 B 、 C 三$ 类,同一类中的任何两个格都有可能重合.\n从而同一类中的格只\n$B \\quad C \\quad B$ 能填互异的正整数.\n注意到最大的类中有 4 个格.\n所以\n$\\begin{array}{llll}C & A & C\\end{array} h \\leqslant\\left[\\frac{9}{4}\\right]=2$.\n当 $h=2$ 时,两个棋盘的填数如下:\n$\\begin{array}{llllll}2 & 6 & 3 & 1 & 2 & 6 \\\\ 9 & 1 & 7 & 5 & 9 & 3 \\\\ 5 & 8 & 4 & 8 & 4 & 7\\end{array}$\n所以 $h$ 的最大值为 2 ,\n再考察 $4 \\times 4$ 棋盘, 棋盘上的格可以分作 4 类,且同一类中的两个格位于两个不同的棋盘时均有可能重合.\n从而同一类中的格的填数不能相同.\n此时, 最大的类有 4 个数, 所以 $h \\leqslant\\left[\\frac{16}{4}\\right]=4$.\n$\\begin{array}{llll}B & C & D & B \\\\ D & A & A & C \\\\ C & A & A & D \\\\ B & D & C & B\\end{array}$\n而 $h=4$ 时, 只须 4 个棋盘的同类格中的数互不相同.\n先填 4 个棋盘的 16\n个 $A$ 类格.\n第一个棋盘的 $A$ 类格填 $1 、 2 、 3 、 4$ ;第二个棋盘的 $A$ 类格填 5、6、 $7 、 8$; 第三个棋盘的 $A$ 类格填 9、10、11、12;第四个棋盘的 $A$ 类格填 $13 、 14$ 、 15、16. 再填 4 个棋盘的 $B$ 类格.\n第一个棋盘的 $B$ 类格填 5、6、7、8;第二个棋盘的 $A$ 类格填 9、10、11、12;第三个棋盘的 $A$ 类格填 $13 、 14 、 15 、 16$; 第四个棋盘的 $A$ 类格填 $1 、 2 、 3 、 4$. 如此轮换, 得 $C 、 D$ 两类格的填法.\n这种填法等价于将第一个棋盘的 $A$ 类格填 $1 、 2 、 3 、 4, B$ 类格填 $5 、 6 、 7 、 8, C$ 类格填 $9 、 10 、 11 、 12, D$ 类格填 $13 、 14 、 15 、 16$. 而第二个棋盘上的填数正好是第一个棋盘上的对应格的填数加 4(大于 16 者取除以 16 的余数), 第三个棋盘上的填数正好是第二个棋盘上的对应格的填数加 4 (大于 16 者取除以 16 的余数) 等等.\n如下表:\n$\\begin{array}{rrrrrrrrrrrrrrrr}5 & 9 & 14 & 6 & 9 & 13 & 2 & 10 & 13 & 1 & 6 & 14 & 1 & 5 & 10 & 2 \\\\ 13 & 1 & 2 & 10 & 1 & 5 & 6 & 14 & 5 & 9 & 10 & 2 & 9 & 13 & 14 & 6 \\\\ 12 & 3 & 4 & 15 & 16 & 7 & 8 & 3 & 4 & 11 & 12 & 7 & 8 & 15 & 16 & 11 \\\\ 8 & 16 & 11 & 7 & 12 & 4 & 15 & 11 & 16 & 8 & 3 & 15 & 4 & 12 & 7 & 3\\end{array}$\n由上讨论不难知道, $8 \\times 8$ 棋盘的格可以分为 16 个不同的类, 分别用 16 个字母 $A, B, \\cdots, P$ 表示(如下表). 不同类的格不论以何种方式叠合棋盘都不会重合,而同类的格则有可能重合,于是同类格中要填互异的正整数.\n每个棋盘的 $A$ 类格 4 个格,所以 $h \\leqslant\\left[\\frac{64}{4}\\right]=16$. 而 $h=16$ 时, 只须 16 个棋盘的同类格填数互不相同.\n先填第一个棋盘的 64 个格.\n第一个棋盘的 $A$ 类格填 $1 、 2 、 3 、 4 ; B$ 类格填 $5 、 6 、 7 、 8 ; \\cdots \\cdots, P$ 类格填 $61 、 62 、 63 、 64$. 而第二个棋盘上的填数正好是第一个棋盘上的对应格 的填数加 4 (大于 64 者取除以 64 的余数), 第三个棋盘上的填数正好是第二个棋盘上的对应格的填数加 4 (大于 64 者取除以 64 的余数) 等等.\n64 个数正好填满同类格的 64 个格.\n故 $h_{\\max }=\\left[\\frac{8 \\times 8}{4}\\right]==16$.\n另一种构造方式是: 将 64 个格分为 16 组: $A_1, A_2, \\cdots, A_{16}$, 每组 4 个格.\n对于第一个棋盘,第一组的 4 个格填 $1 、 2 、 3 、 4$, 第二组的 4 个格填 5、6、7、 8 , 第 16 组的 4 个格填 $61 、 62 、 63 、 64$. 对于第 $i$ 个棋盘, 将第 $i-1$ 个棋盘的第 $j$ 组所填的数作为将第 $i$ 个棋盘的第 $j+1$ 组填的数.\n一般地, $h$ 个棋盘, 有 $4 h$ 个格, 这 $4 h$ 个格都有可能重合, 从而必须填互异数, 所以 $4 h \\leqslant n^2$. 所以 $h \\leqslant \\frac{n^2}{4}$, 又 $\\frac{n^2}{4} \\in \\mathbf{Z}$, 所以 $h \\leqslant\\left[\\frac{n^2}{4}\\right]$. 仿照类似的构造可使 $h=\\left[\\frac{n^2}{4}\\right]$, 故 $h(n)=\\left[\\frac{n^2}{4}\\right]$.",
    "remark": "",
    "figures": []
}