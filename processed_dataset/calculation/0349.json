{
    "source_file": "./raw_volume-zh/volume13/exercise4.tex",
    "problem_type": "calculation",
    "problem": "问题1. 设 $0<p \\leqslant a_1, a_2, \\cdots, a_n \\leqslant q$, 求 $F=\\left(a_1+a_2+\\cdots+\\right. \\left.a_n\\right)\\left(\\frac{1}{a_1}+\\frac{1}{a_2}+\\cdots+\\frac{1}{a_n}\\right)$ 的最大值.",
    "solution": "$F$ 的最大值为: $n^2+\\left[\\frac{n}{2}\\right]\\left[\\frac{n+1}{2}\\right]\\left(\\sqrt{\\frac{p}{q}}-\\sqrt{\\frac{q}{p}}\\right)^2$. 由于 $F$ 在闭域上连续, 所以必存在最大值.\n固定 $a_1, a_2, \\cdots, a_{n-1}$, 令 $a_1+a_2+\\cdots+a_{n-1}=A$, $\\frac{1}{a_1}+\\frac{1}{a_2}+\\cdots+\\frac{1}{a_{n-1}}=B$, 则 $A, B$ 为常数, 且 $F=\\left(A+a_n\\right)\\left(B+\\frac{1}{a_n}\\right)=1+A B+B a_n+\\frac{A}{a_n}$. 考察 $f(x)=B x+\\frac{A}{x}$, 易知, 当 $x \\leqslant \\sqrt{\\frac{A}{B}}$ 时, $f(x)$ 单调递减, 当 $x \\geqslant \\sqrt{\\frac{A}{B}}$ 时, $f(x)$ 单调递增.\n于是, $\\sqrt{\\frac{A}{B}}$ 是 $f(x)$ 的最小值点.\n注意到 $p \\leqslant a_n \\leqslant q$, 所以 $f\\left(a_n\\right)=B a_n+\\frac{A}{a_n}$ 只能在其端点 $a_n=p$ 或 $a_n=q$ 处取最大值.\n由对称性, $F$ 只能在 $a_1, a_2, \\cdots, a_n \\in\\{p, q\\}$ 时取最大值.\n于是, 不妨设 $F$ 取最大值时, $a_1, a_2, \\cdots, a_n$ 中有 $k$ 个为 $p, n-k$ 个为 $q$, 则 $F$ 的最大值是如下形式的 $F(k)$ 的最大值: $F(k)=[k p+(n-k) q]\\left(\\frac{k}{p}+\\frac{n-k}{q}\\right)=k^2+(n- k)^2+\\left(n k-k^2\\right)\\left(\\frac{p}{q}+\\frac{q}{p}\\right)=\\left[2-\\left(\\frac{p}{q}+\\frac{q}{p}\\right)\\right] k^2+\\left[n\\left(\\frac{p}{q}+\\frac{q}{p}\\right)-2 n\\right] k+n^2$. 在二次函数 $F(k)$ 中, 二次项系数 $2-\\left(\\frac{p}{q}+\\frac{q}{p}\\right)<0$, 顶点横坐标为 $\\frac{n}{2}$. 但 $k \\in \\mathbf{N}$, 于是, 当 $n$ 为偶数时, $F(k) \\leqslant F\\left(\\frac{n}{2}\\right)=\\left(\\frac{n}{2}\\right)^2+\\left(n-\\frac{n}{2}\\right)^2+ \\left[n \\cdot \\frac{n}{2}-\\left(\\frac{n}{2}\\right)^2\\right]\\left(\\frac{p}{q}+\\frac{q}{p}\\right)=n^2+\\left(\\frac{n}{2}\\right)^2\\left(\\sqrt{\\frac{p}{q}}-\\sqrt{\\frac{q}{p}}\\right)^2=n^2+ \\left[\\frac{n}{2}\\right]\\left[\\frac{n+1}{2}\\right]\\left(\\sqrt{\\frac{p}{q}}-\\sqrt{\\frac{q}{p}}\\right)^2$. 当 $n$ 为奇 数时, $F(k) \\leqslant F\\left(\\left[\\frac{n}{2}\\right]\\right)= F\\left(\\left[\\frac{n+1}{2}\\right]\\right)=n^2+\\left[\\frac{n}{2}\\right]\\left[\\frac{n+1}{2}\\right]\\left(\\sqrt{\\frac{p}{q}}-\\sqrt{\\frac{q}{p}}\\right)^2$. 所以 $F_{\\text {max }}=n^2+ \\left[\\frac{n}{2}\\right]\\left[\\frac{n+1}{2}\\right]\\left(\\sqrt{\\frac{p}{q}}-\\sqrt{\\frac{q}{p}}\\right)^2$.",
    "remark": "",
    "figures": []
}