{
    "source_file": "./raw_volume-zh/volume1/exercise7.tex",
    "problem_type": "calculation",
    "problem": "问题19 如果一个正整数的所有正约数之和为其两倍, 则称该数为一个完全数.\n求所有的正整数 $n$, 使得 $n-1$ 和 $\\frac{n(n+1)}{2}$ 都是完全数.",
    "solution": "这里需要用到 Euler 的一个结论: $n$ 为偶完全数 $\\Leftrightarrow$ 存在质数 $p$, 使得 $2^p-1$ 为质数, 且 $n=2^{p-1}\\left(2^p-1\\right)$. 下面以此来解本题.\n情形一: $n$ 为奇数, 则 $n-1$ 为偶完全数, 于是, 可写 $n-1=2^{p-1}\\left(2^p-1\\right)$, 其中 $p$ 与 $2^p-1$ 都为质数, 这时 $\\frac{n(n+1)}{2}=\\frac{1}{2}\\left(2^{p-1}\\left(2^p-1\\right)+1\\right)\\left(2^{p-1}\\left(2^p-1\\right)+ 2)= (2^{p-1}\\left(2^p-1\\right)+1\\right)\\left(2^{p-2}\\left(2^p-1\\right)+1\\right)$. 当 $p=2$ 时, $n=7, \\frac{n(n+1)}{2}=  28$ , 此时 $n-1$ 与 $\\frac{n(n+1)}{2}$ 都是完全数.\n当 $p \\geqslant 3$ 时, 记 $N=\\frac{n(n+1)}{2}$, 则 $N$ 为奇数, 且 $\\frac{n+1}{2}=4^{p-1}-2^{p-2}+1=(3+1)^{p-1}-(3-1)^{p-2}+1$, 由二项式定理可知 $\\frac{n+1}{2} \\equiv 3 \\times(p-1)-(p-2) \\times 3+1+1+1 \\equiv 6(\\bmod 9)$. 从而 $3 \\mid N$,但 $3^2 \\nmid N$, 可设 $N=3 k, 3 \\nmid k$, 此时, $\\sigma(N)=\\sigma(3), \\sigma(k)=4 \\sigma(k)$, 但是 $2 N \\equiv 2(\\bmod 4)$, 故 $\\sigma(N) \\neq 2 N$, 从而此时 $\\frac{n(n+1)}{2}$ 不是完全数.\n情形二: $n$ 为偶数, 如果 $4 \\mid n$, 则 $n-1 \\equiv-1(\\bmod 4) \\Rightarrow n-1$ 不是完全平方数, 此时对任意 $d \\mid n-1$, 由 $d \\times \\frac{n-1}{d}=n-1 \\equiv-1(\\bmod 4)$, 可知 $d$ 与 $\\frac{n-1}{d}$ 中一个 $\\bmod 4$ 余 -1 , 另一个 $\\bmod 4$ 余 1 , 导致 $d+\\frac{n-1}{d} \\equiv 0(\\bmod 4)$, 从而 $4 \\mid \\sigma(n-1)$, 但 $2(n-1) \\equiv 2(\\bmod 4)$, 故 $n-1$ 不是完全数.\n所以, $4 \\nmid n$,于是, 可设 $n=4 k+2$, 此时 $N=\\frac{n(n+1)}{2}=(2 k+1)(4 k+3)$ 为奇数.\n由于 $(2 k+ 1,4 k+3)=1$, 故 $\\sigma(N)=\\sigma(2 k+1) \\sigma(4 k+3)$. 同上可知 $4 \\mid \\sigma(4 k+3)$, 故若 $\\sigma(N)=2 N$, 则 $4|2 N \\Rightarrow 2| N$, 这是一个矛盾.\n综上可知, 满足条件的 $n$ 只有一个, 即 $n=7$.",
    "remark": "",
    "figures": []
}